!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Vector=e():t.Vector=e()}(this,(function(){return(()=>{"use strict";var t={570:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(15),s=i.n(r),n=i(645),o=i.n(n)()(s());o.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=o},803:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(15),s=i.n(r),n=i(645),o=i.n(n)()(s());o.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,r){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(r)for(var n=0;n<this.length;n++){var o=this[n][0];null!=o&&(s[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);r&&s[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},15:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==i)return;var r,s,n=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){a=!0,s=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw s}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}t.exports=function(t){var i=e(t,4),r=i[1],s=i[3];if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(o," */"),l=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[r].concat(l).concat([a]).join("\n")}return[r].join("\n")}},379:(t,e,i)=>{var r,s=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},n=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o=[];function a(t){for(var e=-1,i=0;i<o.length;i++)if(o[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},r=[],s=0;s<t.length;s++){var n=t[s],l=e.base?n[0]+e.base:n[0],h=i[l]||0,d="".concat(l," ").concat(h);i[l]=h+1;var u=a(d),c={css:n[1],media:n[2],sourceMap:n[3]};-1!==u?(o[u].references++,o[u].updater(c)):o.push({identifier:d,updater:w(c,e),references:1}),r.push(d)}return r}function h(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var s=i.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var o=n(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function c(t,e,i,r){var s=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,s);else{var n=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}function p(t,e,i){var r=i.css,s=i.media,n=i.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var g=null,x=0;function w(t,e){var i,r,s;if(e.singleton){var n=x++;i=g||(g=h(e)),r=c.bind(null,i,n,!1),s=c.bind(null,i,n,!0)}else i=h(e),r=p.bind(null,i,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=s());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<i.length;r++){var s=a(i[r]);o[s].references--}for(var n=l(t,e),h=0;h<i.length;h++){var d=a(i[h]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}i=n}}}}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={id:r,exports:{}};return t[r](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{i.r(r),i.d(r,{default:()=>ut});var t={};i.r(t),i.d(t,{Artboard:()=>q,BaseElement:()=>c,Button:()=>P,CheckBox:()=>R,Circle:()=>x,ClipPath:()=>V,Control:()=>H,ControlCircle:()=>O,Definitions:()=>A,Description:()=>v,DropdownControl:()=>U,Element:()=>p,Ellipse:()=>w,File:()=>lt,GridArtboard:()=>Q,Group:()=>I,HolyGrailLayout:()=>rt,Image:()=>E,Input:()=>$,Layout:()=>et,Line:()=>m,Marker:()=>T,Math2:()=>ht,OverflowArtboard:()=>tt,PancakeLayout:()=>st,Path:()=>f,PlayerLayout:()=>it,Plot:()=>J,Point:()=>D,Polygon:()=>b,RadioControl:()=>X,Rectangle:()=>y,ResponsiveArtboard:()=>Z,SVG:()=>N,Scrubber:()=>j,Shape:()=>g,SideBarLayout:()=>nt,Slider:()=>Y,Symbol:()=>_,TAU:()=>dt,TSpan:()=>L,Text:()=>M,TrigPlot:()=>K,Use:()=>B});var e=i(379),s=i.n(e),n=i(570),o={insert:"head",singleton:!1};s()(n.Z,o);n.Z.locals;var a=i(803),l={insert:"head",singleton:!1};s()(a.Z,l);a.Z.locals;class h{constructor(t){this.data=t,this.next=null}toString(){return this.data.toString()}}class d{constructor(){this.head=null,this.count=0}insert(t){if(null==this.head)this.head=new h(t);else{let e=this.head;this.head=new h(t),this.head.next=e}this.count++}first(){return null!=this.head?this.head.data:null}remove(){return null!=this.head&&(this.head=this.head.next,this.count--,!0)}size(){return this.count}toString(){let t=this.head,e="";for(;null!=t;)e+=t.toString()+" ",t=t.next;return e.substr(0,e.length-1)}[Symbol.iterator](){let t=this.head;return{next(){if(null==t)return{done:!0,value:void 0};{let e=t.data;return t=t.next,{done:!1,value:e}}}}}}class u{constructor(){this.relationships=new Map,this._size=0}add(t){this.contains(t)||(this.relationships.set(t,new Set),this._size++)}contains(t){return this.relationships.has(t)}remove(t){this.relationships.delete(t)&&this._size--}size(){return this._size}addDependency(t,e){this.add(t),this.add(e),this.relationships.get(t).add(e),this.traverse(t,t)}traverse(t,e,i=new Set){i.add(t);let r=this.getDependents(t,!0);for(let t of r){if(t==e)throw new Error("circular dependency");i.has(t)||this.traverse(t,e,i)}}hasDependents(t){return this.contains(t)&&0!=this.relationships.get(t).size}getAdjacentNodes(t){return this.relationships.get(t)}getDependents(t,e=!1){if(!this.relationships.has(t))return[];if(e)return this.relationships.get(t).keys();{let e=this.getTopologicalDependents(t);return e.remove(),e}}getTopologicalSort(){let t=new d,e=new Set;for(let i of this.getNodes())e.has(i)||this.getTopologicalDependents(i,e,t);return t}getTopologicalDependents(t,e=new Set,i=new d){e.add(t);let r=this.getDependents(t,!0);for(let t of r)e.has(t)||this.getTopologicalDependents(t,e,i);return i.insert(t),i}getNodes(){return this.relationships.keys()}toString(){let t="";for(let e of this.getNodes())for(let i of this.getDependents(e,!0))t+=e.toString()+"->"+i.toString()+"\n";return t}static Generate(t){let e=new u,i=0,r=t.indexOf("->",i);for(;r>0;){let s=t.substring(i,r);i=r+1,r=t.indexOf("\n",r);let n=t.substring(i+1,r);e.addDependency(s,n),i=r+1,r=t.indexOf("->",i)}return e}}class c{constructor(){this._id=`${this.constructor.name.toLowerCase()}-${c.count++}`,c.controller.add(this),this.update=()=>{}}static clear(t=!1){c.count=0,c.controller.clear(),c.disable=t}get id(){return this._id}remove(){c.controller.remove(this)}addDependency(...t){for(let e of t)c.controller.dependencyGraph.addDependency(e,this)}updateDependents(){c.controller.update(this)}}c.disable=!1,c.controller=new class{constructor(){this.dependencyGraph=new u,this.elements=new Map}clear(){this.dependencyGraph=new u,this.elements.clear()}add(t){this.dependencyGraph.add(t),this.elements.set(t.id,t)}remove(t){this.dependencyGraph.remove(t),this.elements.delete(t.id)}get(t){return this.elements.get(t)}update(t){let e=this.dependencyGraph.getDependents(t);for(let t of e)t.update()}},c.count=0;class p extends c{constructor(t){super(),this.root=t,this.root.id=this.id,this.style=this.root.style,this.classList=this.root.classList}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}appendChild(t){return this.root.appendChild(t.root),t}prependChild(t){return this.root.prepend(t.root),t}contains(t){return this.root.contains(t.root)}remove(){c.controller.remove(this),this.root.remove()}clear(){let t;for(;t=this.root.firstChild;)c.controller.get(t.id).remove()}appendSelfWithin(t){let e;if("string"==typeof t){if(e=document.getElementById(t),null==e)throw new Error(`There is no HTML element with the id: ${t}`)}else e=t;return e.appendChild(this.root),e}getBoundingBox(){return this.root instanceof SVGGraphicsElement?this.root.getBBox():null}}class g extends p{constructor(t){super(t)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}getPointAtLength(t){return this.root.getPointAtLength(t)}getTotalLength(){return this.root.getTotalLength()}isPointInFill(t){return this.root.isPointInFill(t)}isPointInStroke(t){return this.root.isPointInStroke(t)}}class x extends g{constructor(t,e,i){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttributeNS(null,"cx",t.toString()),r.setAttributeNS(null,"cy",e.toString()),r.setAttributeNS(null,"r",i.toString()),super(r)}get r(){return this.root.r.baseVal.value}set r(t){this.root.r.baseVal.value=t}get cx(){return this.root.cx.baseVal.value}set cx(t){this.root.cx.baseVal.value=t}get cy(){return this.root.cy.baseVal.value}set cy(t){this.root.cy.baseVal.value=t}getPath(){throw new Error("Method not implemented.")}translate(t,e){this.root.cx.baseVal.value=this.root.cx.baseVal.value+t,this.root.cy.baseVal.value=this.root.cy.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}}class w extends g{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","ellipse");s.setAttributeNS(null,"cx",t.toString()),s.setAttributeNS(null,"cy",e.toString()),s.setAttributeNS(null,"rx",i.toString()),s.setAttributeNS(null,"ry",r.toString()),super(s)}get cx(){return this.root.cx.baseVal.value}set cx(t){this.root.cx.baseVal.value=t}get cy(){return this.root.cy.baseVal.value}set cy(t){this.root.cy.baseVal.value=t}get rx(){return this.root.rx.baseVal.value}set rx(t){this.root.rx.baseVal.value=t}get ry(){return this.root.ry.baseVal.value}set ry(t){this.root.ry.baseVal.value=t}translate(t,e){this.root.cx.baseVal.value=this.root.cx.baseVal.value+t,this.root.cy.baseVal.value=this.root.cy.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}}class m extends g{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttributeNS(null,"x1",t.toString()),s.setAttributeNS(null,"y1",e.toString()),s.setAttributeNS(null,"x2",i.toString()),s.setAttributeNS(null,"y2",r.toString()),super(s)}get x1(){return this.root.x1.baseVal.value}set x1(t){this.root.x1.baseVal.value=t}get y1(){return this.root.y1.baseVal.value}set y1(t){this.root.y1.baseVal.value=t}get x2(){return this.root.x2.baseVal.value}set x2(t){this.root.x2.baseVal.value=t}get y2(){return this.root.y2.baseVal.value}set y2(t){this.root.y2.baseVal.value=t}translate(t,e){this.root.x1.baseVal.value+=t,this.root.y1.baseVal.value+=e,this.root.x2.baseVal.value+=t,this.root.y2.baseVal.value+=e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}}class y extends g{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"height",r.toString()),super(s)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set height(t){this.root.height.baseVal.value=t}translate(t,e){this.root.x.baseVal.value=this.root.x.baseVal.value+t,this.root.y.baseVal.value=this.root.y.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}}class f extends g{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",t),super(e)}get d(){return this.root.getAttribute("d")}set d(t){this.root.setAttribute("d",t)}attatchArrow(t,e=!0){if(void 0===t)throw new Error(`Undefined definitions ${this}: ${this.id}`);t.root.innerHTML='<marker id="arrow" refX="10" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#404040; stroke:none;"></path></marker>',e?this.setAttribute("marker-start","url(#arrow)"):this.setAttribute("marker-end","url(#arrow)")}static getPath(t){if(t instanceof x)return new f(`M ${t.cx+t.r} ${t.cy} A ${t.r} ${t.r} 0 0 0 ${t.cx-t.r} ${t.cy} A ${t.r} ${t.r} 0 0 0 ${t.cx+t.r} ${t.cy}`);throw Error("Not Implemented")}}class b extends g{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","polygon");e.setAttributeNS(null,"points",t),super(e)}get points(){return this.root.getAttribute("points")}}class v extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","desc"))}}class S extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","metadata"))}}class C extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","title"))}}class V extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","clipPath"))}circle(t,e,i){return this.appendChild(new x(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new w(t,e,i,r))}line(t,e,i,r){return this.appendChild(new m(t,e,i,r))}path(t){return this.appendChild(new f(t))}polygon(t){return this.appendChild(new b(t))}rectangle(t,e,i,r){return this.appendChild(new y(t,e,i,r))}description(){return this.appendChild(new v)}metadata(){return this.appendChild(new S)}title(){return this.appendChild(new C)}}class A extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","defs"))}marker(t,e,i,r){return this.appendChild(new T(t,e,i,r))}}class k extends p{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS(null,"href",t),super(e)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}}class _ extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","symbol"))}get x(){throw new Error("Not Implemented")}set x(t){throw new Error("Not Implemented")}get y(){throw new Error("Not Implemented")}set y(t){throw new Error("Not Implemented")}get width(){throw new Error("Not Implemented")}set width(t){throw new Error("Not Implemented")}get height(){throw new Error("Not Implemented")}set height(t){throw new Error("Not Implemented")}get preserveAspectRatio(){throw new Error("Not Implemented")}set preserveAspectRatio(t){throw new Error("Not Implemented")}get viewBox(){return this.root.getAttribute("viewBox")}set viewBox(t){this.root.setAttributeNS(null,"viewBox",t)}get refX(){throw new Error("Not Implemented")}set refX(t){throw new Error("Not Implemented")}get refY(){throw new Error("Not Implemented")}set refY(t){throw new Error("Not Implemented")}}class E extends p{constructor(t,e,i){let r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttributeNS(null,"href",t),r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",i.toString()),super(r)}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set y2(t){this.root.height.baseVal.value=t}}class L extends p{constructor(t=""){let e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.innerHTML=t,super(e)}get text(){return this.root.innerHTML}set text(t){this.root.innerHTML=t}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}tspan(t=""){let e=new L(t);return this.root.appendChild(e.root),e}}class M extends p{constructor(t,e,i=""){let r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttributeNS(null,"x",t.toString()),r.setAttributeNS(null,"y",e.toString()),null!=i&&(r.innerHTML=i),super(r)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}set contents(t){this.root.innerHTML=t}get contents(){return this.root.innerHTML}get x(){return Number(this.root.getAttribute("x"))}get y(){return Number(this.root.getAttribute("y"))}set x(t){this.root.setAttribute("x",t.toString())}set y(t){this.root.setAttribute("y",t.toString())}get length(){return document.createElement("canvas").getContext("2d").measureText(this.root.innerHTML).width}text(t,e,i){let r=new M(t,e,i);return this.root.appendChild(r.root),r}tspan(t=""){let e=new L(t);return this.root.appendChild(e.root),e}}class B extends p{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"height",r.toString()),super(s)}get href(){return this.root.href.baseVal}set href(t){this.root.href.baseVal=t}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set height(t){this.root.height.baseVal.value=t}}class T extends p{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","marker");s.setAttributeNS(null,"refX",t.toString()),s.setAttributeNS(null,"refY",e.toString()),s.setAttributeNS(null,"markerWidth",i.toString()),s.setAttributeNS(null,"markerHeight",r.toString()),super(s)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}get viewBox(){return this.getAttribute("viewBox")}set viewBox(t){this.setAttribute("viewBox",t)}get refX(){return this.root.refX.baseVal.value}set refX(t){this.root.refX.baseVal.value=t}get refY(){return this.root.refY.baseVal.value}set refY(t){this.root.refY.baseVal.value=t}get width(){return this.root.markerWidth.baseVal.value}set width(t){this.root.markerWidth.baseVal.value=t}get height(){return this.root.markerHeight.baseVal.value}set height(t){this.root.markerHeight.baseVal.value=t}description(){return this.appendChild(new v)}metadata(){return this.appendChild(new S)}title(){return this.appendChild(new C)}defs(){return this.appendChild(new A)}group(){return this.appendChild(new I)}svg(){return this.appendChild(new N)}symbol(){return this.appendChild(new _)}use(t,e,i,r){return this.appendChild(new B(t,e,i,r))}circle(t,e,i){return this.appendChild(new x(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new w(t,e,i,r))}line(t,e,i,r){return this.appendChild(new m(t,e,i,r))}path(t){return this.appendChild(new f(t))}polygon(t){return this.appendChild(new b(t))}rectangle(t,e,i,r){return this.appendChild(new y(t,e,i,r))}text(t,e,i){return this.appendChild(new M(t,e,i))}}class G extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","script"))}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}}class N extends p{constructor(t,e){let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),t&&e&&(i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString())),super(i)}static SVG(t,e,i){let r;if("string"==typeof t){if(r=document.getElementById(t),null==r)throw new Error(`There is no HTML element with the id: ${t}`)}else r=t;let s=new N(e,i);return r.appendChild(s.root),s}get width(){return this.root.width.baseVal.value}set width(t){this.root.setAttribute("width",t.toString())}get height(){return this.root.height.baseVal.value}set height(t){this.root.setAttribute("height",t.toString())}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get maxX(){return this.root.viewBox.baseVal.x+this.root.viewBox.baseVal.width}get maxY(){return this.root.viewBox.baseVal.y+this.root.viewBox.baseVal.height}get viewBox(){return this.root.getAttribute("viewBox")}set viewBox(t){this.root.setAttribute("viewBox",t)}setViewBox(t,e,i,r){this.root.setAttribute("viewBox",`${t} ${e} ${i} ${r}`)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}description(){return this.appendChild(new v)}metadata(){return this.appendChild(new S)}title(){return this.appendChild(new C)}circle(t,e,i){return this.appendChild(new x(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new w(t,e,i,r))}image(t,e,i){return this.appendChild(new E(t,e,i))}line(t,e,i,r){return this.appendChild(new m(t,e,i,r))}path(t=""){return this.appendChild(new f(t))}polygon(t){return this.appendChild(new b(t))}rect(t,e,i,r){return this.rectangle(t,e,i,r)}rectangle(t,e,i,r){return this.appendChild(new y(t,e,i,r))}defs(){return this.appendChild(new A)}group(){return this.appendChild(new I)}svg(t,e,i,r){let s=new N(i,r);return s.x=t,s.y=e,this.appendChild(s)}symbol(){return this.appendChild(new _)}use(t,e,i,r){return this.appendChild(new B(t,e,i,r))}text(t,e,i=""){return this.appendChild(new M(t,e,i))}a(t){return this.appendChild(new k(t))}clipPath(){return this.appendChild(new V)}marker(t,e,i,r){return this.appendChild(new T(t,e,i,r))}script(){return this.appendChild(new G)}}class I extends p{constructor(){super(document.createElementNS("http://www.w3.org/2000/svg","g"))}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}description(){return this.appendChild(new v)}metadata(){return this.appendChild(new S)}title(){return this.appendChild(new C)}defs(){return this.appendChild(new A)}group(){return this.appendChild(new I)}svg(t,e){return this.appendChild(new N(t,e))}symbol(){return this.appendChild(new _)}use(t,e,i,r){return this.appendChild(new B(t,e,i,r))}circle(t,e,i){return this.appendChild(new x(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new w(t,e,i,r))}line(t,e,i,r){return this.appendChild(new m(t,e,i,r))}path(t){return this.appendChild(new f(t))}polygon(t){return this.appendChild(new b(t))}rectangle(t,e,i,r){return this.appendChild(new y(t,e,i,r))}text(t,e,i){return this.appendChild(new M(t,e,i))}a(t){return this.appendChild(new k(t))}clipPath(){return this.appendChild(new V)}}class $ extends I{constructor(){super();let t=this;t._onchange=function(){t.updateDependents()}}pushOnChange(t){let e=this._onchange;this.onchange=()=>{t(),e()}}set onchange(t){this._onchange=t}get onchange(){return this._onchange}}class P extends ${constructor(t,e,i){super(),this._count=0,this._x=t,this._y=e,this._active=!1,this.root.setAttribute("transform",`translate(${t},${e})`),this.root.classList.add("button"),this.label=new M(0,1,i),this.label.root.setAttribute("alignment-baseline","middle"),this.label.root.style.textAnchor="middle",this.box=this.rectangle(0,-16,2*this.label.length+16,32),this.box.root.setAttribute("rx","2px"),this.label.x=this.box.x+this.box.width/2,this.appendChild(this.label);let r=this;this.root.onmousedown=()=>{r.active=!this.active},this.root.onmouseup=()=>{r.active=!this.active}}get x(){return this._x}set x(t){this._x=t,this.root.setAttribute("transform",`translate(${this._x},${this._y})`)}get y(){return this._y}set y(t){this._y=t,this.root.setAttribute("transform",`translate(${this._x},${this._y})`)}get count(){return this._count}get active(){return this._active}set active(t){this.active&&!t&&this._count++,this._active=t,this._active?(this.box.style.fill="#f8f8f8",this.box.style.stroke="#333333",this.box.style.strokeWidth="1px",this.label.style.fill="#404040"):(this.box.style.fill="",this.label.style.fill=""),this.onchange()}set onclick(t){this.root.onclick=t,this.onchange()}}class R extends ${constructor(t,e,i,r){super(),this._value=!1,this.root.setAttribute("transform",`translate(${t},${e})`),this.box=new y(-6.5,-6.5,13,13),this.box.root.setAttribute("rx","2px"),this.label=new M(18,1,i),this.label.root.setAttribute("alignment-baseline","middle"),this.root.appendChild(this.box.root),this.root.appendChild(this.label.root);let s=this;this.value=r,this.box.root.onmousedown=function(){s.toggle()},this.addDependency(this.box)}set value(t){(this._value=t)?this.box.style.fill="#404040":this.box.style.fill="",this.onchange()}get value(){return this._value}number(){return this.value?1:0}toggle(){this.value=!this.value}}const W=2*Math.PI;class D extends c{constructor(t,e){super(),this.x=t,this.y=e}}class H extends ${constructor(t,e){super(),this.constrain=function(t,e){return e},this.point=this.circle(0,0,H.pointRadius),this.handle=this.circle(0,0,H.handleRadius),this.point.classList.add("point"),this.handle.classList.add("handle"),this.root.classList.add("control"),this._x=t,this._y=e,this._dx=0,this._dy=0,this.update=()=>{},this.translate(t,e),this.root.onmousedown=this.handleMouseDown.bind(this),this.handle.root.onmouseout=this.handleMouseOut.bind(this),this.handle.root.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),H.initalized||(window.onmouseover=H.handleMouseOver,window.onmousemove=H.handleMouseMove,window.onmouseup=H.handleInputEnd,window.addEventListener("touchend",H.handleInputEnd,{passive:!1}),window.addEventListener("touchmove",H.handleTouchMove,{passive:!1}),H.initalized=!0)}static handleMouseMove(t){null!=H.active&&(H.handleMoveTo(t.clientX,t.clientY),t.preventDefault())}static handleTouchMove(t){null!=H.active&&(H.handleMoveTo(t.touches[0].clientX,t.touches[0].clientY),t.preventDefault())}static handleMoveTo(t,e){let i=H.closestSVG.createSVGPoint();i.x=t,i.y=e;let r=i.matrixTransform(H.ctm.inverse()),s=r.x+H.slopX,n=r.y+H.slopY;H.active.translate(s,n)}converToDisplay(){this.point.fill="#404040",this.point.r=3.5}static handleInputEnd(t){null!=H.active&&(H.active.handle.root.classList.remove("highlight"),H.active=null,"touchend"!=t.type&&t.target.dispatchEvent(new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0})))}static handleMouseOver(t){null!=H.active||c.disable||"circle"!=t.target.tagName||t.target.classList.add("highlight")}handleMouseOut(t){null==H.active&&t.target.classList.remove("highlight")}handleMouseDown(t){if(!c.disable){t.preventDefault(),t.stopPropagation(),H.active=this,H.closestSVG=H.active.root.closest("svg"),H.ctm=H.closestSVG.getScreenCTM();let e=H.closestSVG.createSVGPoint();e.x=t.clientX,e.y=t.clientY;let i=e.matrixTransform(H.ctm.inverse());H.slopX=H.active.x-i.x,H.slopY=H.active.y-i.y}}handleTouchStart(t){if(!c.disable){H.active=this,H.closestSVG=H.active.root.closest("svg"),H.ctm=H.closestSVG.getScreenCTM();let e=H.closestSVG.createSVGPoint();e.x=t.touches[0].clientX,e.y=t.touches[0].clientY;let i=e.matrixTransform(H.ctm.inverse());H.slopX=H.active.x-i.x,H.slopY=H.active.y-i.y,t.preventDefault()}}translate(t,e){let i=this.constrain(this,new D(t,e));this._dx=i.x-this._x,this._dy=i.y-this._y,this._x=i.x,this._y=i.y,this.root.setAttribute("transform",`translate( ${this.x}, ${this.y})`),this.onchange()}set x(t){this._dx=t-this.x,this._x=t,this.root.setAttribute("transform","translate( "+this.x+", "+this.y+")")}set y(t){this._dy=t-this.y,this._y=t,this.root.setAttribute("transform","translate( "+this.x+", "+this.y+")")}get x(){return this._x}get y(){return this._y}get dx(){return this._dx}get dy(){return this._dy}get displayAngle(){return this.y<=0?Math.abs(Math.atan2(this.y,this.x)):W-Math.atan2(this.y,this.x)}get angle(){return(Math.atan2(this.y,this.x)+W)%W}constrainTo(t){if(this.addDependency(t),t instanceof f)throw Error("not implemented");t instanceof x?this.constrain=function(e,i){let r=Math.atan2(i.y-t.cy,i.x-t.cx),s=t.r*Math.cos(r)+t.cx,n=t.r*Math.sin(r)+t.cy;return new D(s,n)}:t instanceof y&&(this.constrain=function(e,i){let r=i.x,s=i.y,n=t.x,o=t.y,a=t.x+t.width,l=t.y+t.height,h=t.x+t.width/2,d=t.y+t.height/2;return s>=l&&r>=a?(s=l,r=a):s<=o&&r<=n?(s=o,r=o):s<=o&&r>=a?(s=o,r=a):s>=l&&r<=n?(s=l,r=n):r>n&&r<a?s=s>d?l:o:r=r>h?a:n,new D(r,s)})}constrainWithin(t){if(this.addDependency(t),t instanceof f)throw Error("not implemented");t instanceof x?this.constrain=function(e,i){if(Math.hypot(i.y-t.cy,i.x-t.cx)>t.r){let e=Math.atan2(i.y-t.cy,i.x-t.cx),r=t.r*Math.cos(e)+t.cx,s=t.r*Math.sin(e)+t.cy;return new D(r,s)}return i}:t instanceof y&&(this.constrain=function(e,i){let r=i.x,s=i.y,n=t.x,o=t.y,a=t.x+t.width,l=t.y+t.height;return r<n&&(r=n),s<o&&(s=o),r>a&&(r=a),s>l&&(s=l),new D(r,s)})}constrainToCircle(t,e,i){this.constrain=function(r,s){let n=Math.atan2(s.y-e,s.x-t),o=i*Math.cos(n)+t,a=i*Math.sin(n)+e;return new D(o,a)}}constrainWithinBox(t,e,i,r){this.constrain=function(s,n){let o=n.x,a=n.y;return o<t&&(o=t),a<e&&(a=e),o>i&&(o=i),a>r&&(a=r),new D(o,a)}}constrainWithinRange(t,e){this.constrain=function(i,r){let s=r.x,n=r.y;return s<t&&(s=t),s>e&&(s=e),new D(s,n)}}constrainToX(t=-1/0,e=1/0){this.constrain=function(t,e){return new D(e.x,t.y)}}constrainToY(){this.constrain=function(t,e){return new D(t.x,e.y)}}}H.pointRadius=3.5,H.handleRadius=13,H.active=null,H.slopX=0,H.slopY=0,H.prevX=0,H.prevY=0,H.initalized=!1;class O extends H{constructor(t,e){super(t,e),this.point.r=O.circleRadius,this.handle.r=O.circleRadius+.8,this.handle.style.strokeWidth="2",this.point.style.fill=this.handle.style.stroke}}O.circleRadius=10;class X extends ${constructor(t,e,i,r=0){if(void 0===i||0==i.length)throw new Error("Labels must not be empty");super(),this.root.setAttribute("transform",`translate(${t},${e})`),this.index=r;let s=0;this.list=[];let n=this;i.forEach(((t,e)=>{let i=new R(0,s,t,!1);e==r&&(i.value=!0),i.box.root.setAttribute("rx","8px"),i.box.root.onmousedown=function(){n.handleMouseDown(e),i.value=!0,n.index=e,n.onchange()},this.root.appendChild(i.root),this.list.push(i),s+=24}))}get value(){return this.list[this.index].label.contents}getCurrentValue(){return this.list[this.index].label}handleMouseDown(t){this.list.forEach((t=>{t.value=!1}))}}class U extends ${constructor(t,e,i,r){if(void 0===i||0===i.length)throw new Error("Dropdown control must have at least one option");if(r<0||r>=i.length)throw new Error("Default index must be within bounds of option labels array.");super(),this.optionLabels=i,this.currentIndex=r,this.expanded=!1,this.textWidth=new M(0,0,this.getLongestString(i)).length,this.x=t,this.y=e,this.collapsedView=new I,this.collapsedView.setAttribute("transform",`translate(${this.x},${this.y})`),this.currSelection=new I,this.currSelection.root.classList.add("dropdown-control-curr-selection-box"),this.currSelectionText=new M(0,1,this.optionLabels[this.currentIndex]),this.currSelectionText.root.setAttribute("alignment-baseline","middle"),this.currSelectionText.style.textAnchor="middle",this.currSelectionBox=new y(0,-16,3*this.textWidth+16,32),this.currSelectionText.x=this.currSelectionBox.x+this.currSelectionBox.width/2,this.currSelection.appendChild(this.currSelectionBox),this.currSelection.appendChild(this.currSelectionText);let s=new I;s.root.classList.add("dropdown-control-button");let n=new y(3*this.textWidth+16,-16,32,32),o=new f(` M ${8+3*this.textWidth+32} ${8*Math.sin(-2*Math.PI/3)+1} L ${8*Math.cos(-2*Math.PI/3)+3*this.textWidth+28} ${8*Math.sin(-2*Math.PI/3)+1} L ${(8+3*this.textWidth+32+8*Math.cos(-2*Math.PI/3)+3*this.textWidth+28)/2} ${8*Math.sin(-4*Math.PI/3)+1} Z`);o.style.fill="#333333",s.appendChild(n),s.appendChild(o);let a=this;s.root.onmousedown=function(){a.expanded?(a.root.removeChild(a.expandedView.root),a.expanded=!1):(a.updateExpandedView(),a.root.appendChild(a.expandedView.root),a.expanded=!0),a.onchange()},this.collapsedView.appendChild(this.currSelection),this.collapsedView.appendChild(s),this.root=this.collapsedView.root,this.root.id=this.id}get value(){return this.optionLabels[this.currentIndex]}updateExpandedView(){this.expandedView=new I,this.collapsedView.setAttribute("transform",`translate(${this.x},${this.y})`);let t=new I;t.root.classList.add("dropdown-control-menu-option");let e=new M(0,1,this.optionLabels[this.currentIndex]);e.root.setAttribute("alignment-baseline","middle"),e.style.textAnchor="middle";let i=new y(0,-16,3*this.textWidth+16,32);e.x=i.x+i.width/2,t.appendChild(i),t.appendChild(e),this.expandedView.appendChild(t);let r=this,s=32;this.optionLabels.forEach(((t,e)=>{if(e==this.currentIndex)return;let i=new I;i.root.classList.add("dropdown-control-menu-option");let n=new M(0,1+s,t);n.root.setAttribute("alignment-baseline","middle"),n.style.textAnchor="middle";let o=new y(0,-16+s,3*this.textWidth+16,32);n.x=o.x+o.width/2,i.appendChild(o),i.appendChild(n),i.root.onmousedown=function(){r.root.removeChild(r.expandedView.root),r.expanded=!1,r.currentIndex=e,r.currSelectionText.contents=t,r.onchange()},this.expandedView.appendChild(i),s+=32}))}getCurrentSelection(){return this.optionLabels[this.currentIndex]}getLongestString(t){if(0==t.length)return"";let e=t[0];for(let i=1;i<t.length;i++)t[i].length>e.length&&(e=t[i]);return e}}class Y extends ${constructor(t,e,i){let r,s;super(),this.x=t,this.y=e,r=i.width?i.width:100,s=i.value?i.value:0,i.min?this._min=i.min:this._min=0,i.max?this._max=i.max:this._max=1,this._line=this.line(t,e,t+r,e),this._line.root.style.stroke="#404040",this._line.root.style.strokeWidth="1.5",this._line.root.style.strokeLinecap="round",this._control=new O(t+s,e),this._control.constrainWithinBox(t,e,t+r,e),this._control.point.r-=1.5,this._control.handle.r-=2,this._control.handle.style.strokeWidth="2",this.appendChild(this._control),this.value=s;let n=this,o=n._control.onchange;n._control.onchange=function(){o(),n.onchange()}}get width(){return this._line.x2-this._line.x1}set width(t){this._line.x2=this._line.x1+t,this._control.constrainWithinBox(this._line.x1,this._line.y1,this._line.x2,this._line.y2)}get value(){return(this._control.x-this._line.x1)/this.width*this.range+this._min}set value(t){this._control.x=this._line.x1+(t-this._min)/this.range*this.width}set step(t){let e=this._line;this._control.constrain=function(t,i){let r=i.x,s=i.y;return r<e.x1&&(r=e.x1),s<e.y1&&(s=e.y1),r>e.x2&&(r=e.x2),s>e.y2&&(s=e.y2),r=50*Math.floor(r/50),new D(r,s)}}get min(){return this._min}set min(t){this._min=t}get max(){return this._max}set max(t){this._max=t}get range(){return this.max-this.min}}class j extends Y{constructor(t,e,i){let r={width:486,loop:!1,...i};r.width=r.width-28,super(t+6+28,e,r),this.active=!1,this.loop=r.loop,this.done=!1;let s=this.circle(0,0,14);s.style.fill="#eeeeee",s.style.stroke="#333333",s.style.strokeWidth="1px",s.classList.add("animation-button");let n=this.path(` M 6 0 L ${6*Math.cos(-2*Math.PI/3)} ${6*Math.sin(-2*Math.PI/3)} L ${6*Math.cos(-4*Math.PI/3)} ${6*Math.sin(-4*Math.PI/3)} Z`);n.style.fill="#333333",this.playButton=this.group(),this.playButton.appendChild(s),this.playButton.appendChild(n),this.playButton.circle(0,0,20).style.opacity="0",this.playButton.setAttribute("transform",`translate( ${t}, ${e})`);let o=this.circle(0,0,14);o.style.fill="#eeeeee",o.style.stroke="#333333",o.style.strokeWidth="1px";let a=this.path("M -3 -4 L -3 4 M 3 -4 L 3 4");a.style.stroke="#333333",a.style.strokeWidth="2",a.style.strokeLinecap="round",this.pauseButton=this.group(),this.pauseButton.style.display="none",this.pauseButton.appendChild(o),this.pauseButton.appendChild(a),this.pauseButton.circle(0,0,20).style.opacity="0",this.pauseButton.setAttribute("transform",`translate( ${t}, ${e})`);let l=this;this.playButton.root.addEventListener("click",(function(){l.playButton.style.display="none",l.pauseButton.style.display="",l.play()})),this.pauseButton.root.addEventListener("click",(function(){l.pause()}));let h=this.onchange;this.onchange=function(){l.value==l.max?l.done=!0:l.done=!1,h()}}setValue(t){t<this.min?this.value=this.min:t>this.max&&this.loop?this.value=t%this.max:t>this.max?this.value=this.max:this.value=t,this.onchange()}getValue(){return this.value}play(){if(!this.active){let t=this;t.active=!0,this.done&&(this.value=this.min,this.done=!1);let e,i,r=.0025*t.range,s=function(n){void 0===e&&(e=n,i=0);const o=n-e;t.value+=r,t.value>=t.max&&!t.loop?(t.value=t.max,t.pause(),t.done=!0,t.onchange()):(t.value=t.value%t.max,t.onchange(),i=o,t.requestID=window.requestAnimationFrame(s))};window.requestAnimationFrame(s)}}pause(){this.active=!1,this.pauseButton.style.display="none",this.playButton.style.display="",window.cancelAnimationFrame(this.requestID)}}class F extends ${constructor(t){super(),this._xBound=null,this._yBound=null,this.label=new M(0,1,t),this.label.root.setAttribute("alignment-baseline","middle"),this.label.root.style.textAnchor="middle",this.box=this.rectangle(0,-16,2*this.label.length+16,32),this.box.root.setAttribute("rx","2px"),this.box.fill="white",this.box.stroke="black",this.box.style.fillOpacity="0.9",this.label.x=this.box.x+this.box.width/2,this.appendChild(this.label),this._x=this.box.x,this._y=this.box.y,this.root.setAttribute("visibility","hidden")}set x(t){this._xBound&&t>=this._xBound-this.box.width&&(t=this._xBound-this.box.width),this._x=t,this.box.x=this._x,this.label.x=this.box.x+this.box.width/2}set y(t){this._yBound&&(t>=this._yBound-this.box.height?t=this._yBound-this.box.height:t<=this.box.height&&(t=this.box.height)),this._y=t,this.box.y=this._y-37,this.label.y=this.box.y+this.box.height/2}setBounds(t,e){this._xBound=t,this._yBound=e}setText(t){this.label.contents=t,this.label.x=this.box.x+this.box.width/2,this.label.y=this.box.y+this.box.height/2,this.box.width=2*this.label.length+16}updatePosition(t,e){this.x=t,this.y=e}showHoverBox(){this.root.removeAttribute("visibility")}hideHoverBox(){this.root.setAttribute("visibility","hidden")}}class z extends I{constructor(t,e,i){super(),this.setAttribute("transform",`translate( ${t}, ${e})`),this.style.alignmentBaseline="middle",this.style.textAnchor="middle",this.textElement=this.text(0,0,i)}drawBackgroundRectangle(){let t=this.textElement.getBoundingBox();this.textElement.remove();let e=this.rectangle(t.x-3,t.y-3,t.width+6,t.height+6);e.style.fill="#ffffff",e.style.stroke="none",this.appendChild(this.textElement)}}class q extends N{constructor(t,e={}){super((e={width:288,height:162,align:"left",origin:"default",responsive:!0,...e}).width,e.height),this.container=this.appendSelfWithin(t),this.container.appendChild(this.root),this.root.classList.add("artboard"),this.background=new I,this.input=new I,this.root.appendChild(this.background.root),this.root.appendChild(this.input.root)}get definitions(){return void 0===this._definitions?super.appendChild(new A):this._definitions}appendChild(t){return t instanceof $?this.input.appendChild(t):this.background.appendChild(t),t}arrow(){let t=this._definitions.marker(10,5,10,10);return t.path("M 0 0 L 10 5 L 0 10 z").style.fill="#404040",t.setAttribute("orient","auto-start-reverse"),t}button(t,e,i){return this.appendChild(new P(t,e,i))}checkBox(t,e,i,r){return this.appendChild(new R(t,e,i,r))}radioControl(t,e,i,r=0){return this.appendChild(new X(t,e,i,r))}dropdownControl(t,e,i,r){return this.appendChild(new U(t,e,i,r))}control(t,e){return this.appendChild(new H(t,e))}controlCircle(t,e){return this.appendChild(new O(t,e))}hoverBox(t){return this.appendChild(new F(t))}label(t,e,i){let r=this.appendChild(new z(t,e,i));return r.drawBackgroundRectangle(),r}slider(t,e,i){return this.appendChild(new Y(t,e,i))}scrubber(t,e,i){return this.appendChild(new j(t,e,i))}}class Z extends q{constructor(t,e={}){if(super(t,e={origin:"default",align:"left",responsive:!0,...e}),e.responsive&&this.classList.add("responsive"),e.maxWidth)switch(this.root.style.maxWidth=`${e.maxWidth}px`,e.align){case"center":this.root.style.margin="auto";break;case"right":this.root.style.marginLeft="auto";break;case"left":this.root.style.marginRight="auto";break;default:console.log(`Unknown alignment option: ${e.align}.`)}switch(e.origin){case"center":this.setViewBox(-this.width/2,-this.height/2,this.width,this.height);break;case"centerY":this.setViewBox(0,-this.height/2,this.width,this.height);break;case"topLeft":case"default":this.setViewBox(0,0,this.width,this.height);break;default:throw new Error(`Unrecognized origin: ${origin}. Please provide a valid orign`)}}drawGrid(t=!0,e=!0){if(!this._grid){this._grid=this.group(),this._lines1=this._grid.group(),this._lines2=this._grid.group(),this._lines3=this._grid.group(),this._lines1.style.stroke=Z.lightStroke,this._lines2.style.stroke=Z.mediumStroke,this._lines3.style.stroke=Z.darkStroke;let t=this.root.viewBox.baseVal,i=t.x,r=t.y,s=i+t.width,n=r+t.height;if(e){let t=this._grid.circle(0,0,3);t.classList.add("outline"),t.style.fill="var(--green)"}for(let t=5*Math.floor(i/5);t<=s;t+=5){let e;e=t%50==0?this._lines3:t%25==0?this._lines2:this._lines1,e.line(t,r,t,n)}for(let t=5*Math.floor(r/5);t<=n;t+=5){let e;e=t%50==0?this._lines3:t%25==0?this._lines2:this._lines1,e.line(i,t,s,t)}}}}Z.lightStroke="#f8f8f8",Z.mediumStroke="#f0f0f0",Z.darkStroke="#dddddd";class J extends Z{constructor(t,e,i){super(t,i={x:0,y:0,width:600,height:300,internalX:-300,internalY:-150,internalWidth:600,internalHeight:300,origin:"center",...i}),this.x=i.x,this.y=i.y,this.classList.add("grid"),navigator.userAgent.indexOf("Firefox")>-1?this.internalSVG=this.appendChild(new N).root:this.internalSVG=this.root,this.fn=e,this.classList.add("non-scaling-stroke","outline"),this.setViewBox(i.internalX,i.internalY,i.internalWidth,i.internalHeight),this.gridGroup=this.group(),this.axisGroup=this.group();this.axisGroup.line(0,0,W,0);this.fnGroup=this.group(),this.fnGroup.classList.add("non-scaling-stroke"),this.fnPath=this.fnGroup.path(""),this.fnPath.setAttribute("vector-effect","non-scaling-stroke")}screenToSVG(t,e){let i=this.internalSVG.createSVGPoint();return i.x=t,i.y=e,i.matrixTransform(this.internalSVG.getScreenCTM().inverse())}SVGToScreen(t,e){let i=this.internalSVG.createSVGPoint();return i.x=t,i.y=e,i.matrixTransform(this.internalSVG.getScreenCTM())}SVGToRelative(t,e){let i=this.root.getBoundingClientRect(),r=this.internalSVG,s=r.createSVGPoint();s.x=t,s.y=e;let n=s.matrixTransform(r.getScreenCTM());return n.x-=i.left,n.y-=i.top,n}call(t){let e=-this.fn(t);return isFinite(e)?e:0}draw(){let t=this.root.getBoundingClientRect(),e=t.x+0,i=t.x+t.width-0,r=this.internalSVG.getScreenCTM().inverse(),s=this.internalSVG.createSVGPoint();s.x=e,s.y=0;let n=s.matrixTransform(r),o=`M ${n.x} ${this.call(n.x)}`;for(let t=e;t<i;t++)s.x=t,n=s.matrixTransform(r),o+=`L ${n.x} ${this.call(n.x)}`;this.fnPath.d=o}drawBorder(){let t=this.root.getBoundingClientRect(),e=this.screenToSVG(t.x+0,t.y+0),i=this.screenToSVG(t.width+t.x-0,t.height+t.y-0);this.border=this.rect(e.x,e.y,i.x-e.x,i.y-e.y),this.border.style.strokeWidth="2",this.border.setAttribute("vector-effect","non-scaling-sroke")}}class K extends J{constructor(t,e,i={}){super(t,e,i={...{width:624,height:288,internalX:0,internalY:-1,internalWidth:W,internalHeight:2,responsive:!0},...i}),this.draw(),this.drawCustomGrid()}drawCustomGrid(){let t=this.root.getBoundingClientRect(),e=this.screenToSVG(t.x,t.y),i=this.screenToSVG(t.width+t.x,t.height+t.y),r=this.gridGroup.group();r.style.stroke="#f8f8f8";let s=this.gridGroup.group();s.style.stroke="#eeeeee";let n=this.gridGroup.group();n.style.stroke="#e0e0e0";for(let t=0;t<=100;t++){let o=e.x+t/100*W;t%10==0?n.line(o,e.y,o,i.y):t%5==0?s.line(o,e.y,o,i.y):r.line(o,e.y,o,i.y)}let o=Math.ceil(10*e.y),a=Math.ceil(10*i.y);for(let t=o;t<a;t++){let o=t/10;t%10==0?n.line(e.x,o,i.x,o):t%5==0?s.line(e.x,o,i.x,o):r.line(e.x,o,i.x,o)}}drawCustomGrid2(){let t=this.root.getBoundingClientRect(),e=this.screenToSVG(t.x,t.y),i=this.screenToSVG(t.width+t.x,t.height+t.y),r=this.gridGroup.group();r.style.stroke="#f8f8f8";let s=this.gridGroup.group();s.style.stroke="#eeeeee";let n=this.gridGroup.group();n.style.stroke="#e0e0e0";for(let t=0;t<=180;t++){let o=t/180*W;t%15==0?n.line(o,e.y,o,i.y):t%5==0?s.line(o,e.y,o,i.y):r.line(o,e.y,o,i.y)}let o=Math.ceil(10*e.y),a=Math.ceil(10*i.y);for(let t=o;t<a;t++){let o=t/10;t%10==0?n.line(e.x,o,i.x,o):t%5==0?s.line(e.x,o,i.x,o):r.line(e.x,o,i.x,o)}}drawCustomGrid3(){let t=this.root.getBoundingClientRect(),e=this.screenToSVG(t.x,t.y),i=this.screenToSVG(t.width+t.x,t.height+t.y),r=this.gridGroup.group();r.style.stroke="#f8f8f8";let s=this.gridGroup.group();s.style.stroke="#eeeeee";let n=this.gridGroup.group();n.style.stroke="#e0e0e0";for(let t=-40;t<=100;t++){let o=t/10;t%10==0?n.line(o,e.y,o,i.y):t%5==0?s.line(o,e.y,o,i.y):r.line(o,e.y,o,i.y)}let o=Math.ceil(100*e.y),a=Math.ceil(100*i.y);for(let t=o;t<a;t++){let o=t/100*W;t%10==0?n.line(e.x,o,i.x,o):t%5==0?s.line(e.x,o,i.x,o):r.line(e.x,o,i.x,o)}}}class Q extends Z{constructor(t,e){(e={x:0,y:0,width:600,height:300,internalX:-300,internalY:-150,internalWidth:600,internalHeight:300,align:"left",origin:"default",responsive:!0,border:!0,...e}).maxWidth||e.responsive||(e.maxWidth=e.width),super(t,e),this.classList.add("grid"),this.x=e.x,this.y=e.y,this.setViewBox(e.internalX,e.internalY,e.internalWidth,e.internalHeight);let i=this.appendChild(new N);this.internalViewBox=this.root.viewBox,navigator.userAgent.indexOf("Firefox")>-1?this.internalSVG=i.appendChild(new N):this.internalSVG=i,this.classList.add("outline"),this.gridGroup=this.group(),this.axisGroup=this.group(),this.foreground=this.group()}getInternalSVG(){return this.internalSVG}screenToSVG(t,e){let i=this.internalSVG.root,r=i.createSVGPoint();return r.x=t,r.y=e,r.matrixTransform(i.getScreenCTM().inverse())}SVGToScreen(t,e){let i=this.internalSVG.root,r=i.createSVGPoint();return r.x=t,r.y=e,r.matrixTransform(i.getScreenCTM())}SVGToRelative(t,e){let i=this.root.getBoundingClientRect(),r=this.internalSVG.root,s=r.createSVGPoint();s.x=t,s.y=e;let n=s.matrixTransform(r.getScreenCTM());return n.x-=i.left,n.y-=i.top,n}drawBackground(t="#ffffff"){let e=this.root.viewBox.baseVal,i=this.prependChild(this.rectangle(e.x,e.y,e.width,e.height));i.style.fill=t,i.style.stroke="none"}drawBorder(){let t=this.root.viewBox.baseVal;this.border=new y(t.x,t.y,t.width,t.height),this.border.appendSelfWithin(this.root),this.border.root.setAttribute("vector-effect","non-scaling-stroke"),this.border.style.strokeWidth="2"}drawGridLines(){let t=this.internalViewBox.baseVal,e=this.gridGroup.group(),i=this.gridGroup.group(),r=this.gridGroup.group();e.style.opacity="0.15",i.style.opacity="0.25",r.style.opacity="0.4";let s=Math.floor(t.x),n=Math.floor(t.y),o=Math.ceil(t.x+t.width),a=Math.ceil(t.y+t.height);for(let t=s;t<=o;t+=1)t%10==0?r.line(t,n,t,a):t%5==0?i.line(t,n,t,a):e.line(t,n,t,a);for(let t=n;t<=a;t+=1)t%10==0?r.line(s,t,o,t):t%5==0?i.line(s,t,o,t):e.line(s,t,o,t)}}class tt extends q{constructor(t,e){switch(super(t,e={origin:"default",...e}),this.style.display="block",this.style.maxWidth="100%",this.style.height="auto",this.style.overflow="visible",this.container.style.overflow="hidden",e.align){case"center":this.root.style.margin="auto";break;case"right":this.root.style.marginLeft="auto";break;case"left":this.root.style.marginRight="auto";break;default:throw new Error(`Unknown alignment option: ${e.align}.`)}switch(e.origin){case"center":this.setViewBox(-this.width/2,-this.height/2,this.width,this.height);break;case"centerY":this.setViewBox(0,-this.height/2,this.width,this.height);break;case"default":this.setViewBox(0,0,this.width,this.height);break;default:throw new Error(`Unrecognized origin: ${origin}. Please provide a valid orign`)}}drawGrid2(t,e,i,r,s,n){if(!this._grid){this._grid=this.background.group(),this._lines1=this._grid.group(),this._lines2=this._grid.group(),this._lines3=this._grid.group(),this._lines1.style.stroke=tt.lightStroke,this._lines2.style.stroke=tt.mediumStroke,this._lines3.style.stroke=tt.darkStroke;let o=t+i,a=e+r;if(n){let t=this._grid.circle(0,0,3);t.style.fill="var(--green)",t.style.stroke="#485bfc",t.style.strokeWidth="1px"}for(let i=10*Math.floor(t/10);i<=o;i+=10){let t;t=i%100==0?this._lines3:i%50==0?this._lines2:this._lines1,t.line(i,e,i,a)}for(let i=10*Math.floor(e/10);i<=a;i+=10){let e;e=i%100==0?this._lines3:i%50==0?this._lines2:this._lines1,e.line(t,i,o,i)}if(s){let t=this.rect(0,0,this.width,this.height);t.style.strokeWidth="1px",t.style.stroke="blue",t.style.fill="none"}}}drawGrid(t=!1,e=!1){let i=this.root.viewBox.baseVal,r=i.x,s=i.y,n=i.height;this.drawGrid2(r,s,720,n,t,e)}}tt.lightStroke="var(--light1)",tt.mediumStroke="var(--light2)",tt.darkStroke="var(--light3)";class et extends c{constructor(t,e={}){if(super(),this.container=null,"string"==typeof t){if(this.container=document.getElementById(t),null===this.container||void 0===this.container)throw new Error(`There is no HTML element with the id: ${t}`)}else this.container=t}static getContainer(t){let e=null;if("string"==typeof t){if(e=document.getElementById(t),null==e)throw new Error(`There is no HTML element with the id: ${t}`)}else e=t;return e}addRegion(){let t=document.createElement("div");return t.classList.add("region"),this.container.appendChild(t)}addCustomVariableDisplay(t,e,i){let r=document.createElement("div");r.classList.add("display-box"),t.appendChild(r);t.getBoundingClientRect();let s=new q(r,{width:200,height:50,responsive:!1}).text(16,25,"");s.classList.add("katex-main"),s.style.dominantBaseline="middle",s.tspan(e).classList.add("katex-variable"),s.tspan(" = ");let n=s.tspan(i());return s.addDependency(this),s.update=()=>{n.text=i()},r}addContainer(t){let e=document.createElement("div");return e.classList.add("display-box"),t.appendChild(e)}addButton(t,e){let i=document.createElement("button");return i.classList.add("muted-button"),i.innerText=e,t.appendChild(i),i}addCheckbox(t,e,i){let r=document.createElement("div");r.classList.add("display-box"),r.style.padding="0.5rem",r.style.display="flex";let s=document.createElement("input");s.type="checkbox",s.checked=e,s.id="input-"+et.inputCount++;let n=document.createElement("label");return n.setAttribute("for",s.id),n.innerText=i,n.style.paddingLeft="0.5rem",t.appendChild(r),r.appendChild(s),r.appendChild(n),s}addSlider(t,e,i,r,s){let n=document.createElement("div");n.classList.add("display-box"),n.style.padding="0.5rem";let o=document.createElement("input");return o.type="range",o.min=e.toFixed(),o.max=i.toFixed(),o.value=r.toFixed(),o.setAttribute("aria-label",s),t.appendChild(n).appendChild(o)}addVariableDisplay(t,e,i,r=0){let s=document.createElement("div");s.classList.add("display-box"),t.appendChild(s);t.getBoundingClientRect();let n=new q(s,{width:200,height:50,responsive:!1});if(!(i instanceof Y))throw new Error("Not Implemented");{let t=n.text(16,25,"");t.classList.add("katex-main"),t.style.dominantBaseline="middle",t.tspan(e).classList.add("katex-variable"),t.tspan(" = ");let s=t.tspan(i.value.toFixed(r));t.addDependency(i),t.update=()=>{s.text=i.value.toFixed(r)}}return s}}et.inputCount=0;class it extends et{constructor(t,e={}){super(t);let i={width:600,...e},r=this.container.getBoundingClientRect(),s=i.width>r.width?r.width:i.width;s<288&&(s=288),this.root=document.createElement("div"),this.main=document.createElement("div"),this.canvas=document.createElement("div"),this.controls=document.createElement("div"),this.footer=document.createElement("div"),this.root.classList.add("animation-root"),this.main.classList.add("animation-main"),this.canvas.classList.add("animation-canvas"),this.controls.classList.add("animation-controls"),this.footer.classList.add("animation-footer"),this.container.appendChild(this.root),this.root.appendChild(this.main),this.root.appendChild(this.footer),this.main.appendChild(this.canvas),this.main.appendChild(this.controls),this.root.style.width=`${s}px`,this.scrubberInteractive=new q(this.controls,{width:s,height:50,origin:"default",responsive:!1}),this.scrubber=this.scrubberInteractive.scrubber(25,25,{min:i.min,max:i.max,value:i.value,width:s-50,loop:i.loop}),this.addDependency(this.scrubber)}}class rt extends et{constructor(t,e={}){super(t);rt.config;this.root=document.createElement("div"),this.root.classList.add("holy-grail"),this.header=document.createElement("div"),this.left=document.createElement("div"),this.main=document.createElement("div"),this.right=document.createElement("div"),this.footer=document.createElement("div"),this.header.classList.add("header-region"),this.left.classList.add("left-region"),this.main.classList.add("main-region"),this.right.classList.add("right-region"),this.footer.classList.add("footer-region"),this.footer.style.display="flex",this.footer.style.flexDirection="column",this.container.append(this.root),this.root.append(this.header,this.left,this.main,this.right,this.footer)}}rt.config={};class st extends et{constructor(t,e={}){super(t);this.root=document.createElement("div"),this.root.classList.add("pancake"),this.header=document.createElement("div"),this.main=document.createElement("div"),this.footer=document.createElement("div"),this.header.classList.add("header-region"),this.main.classList.add("main-region"),this.footer.classList.add("footer-region"),this.footer.style.display="flex",this.footer.style.flexDirection="column",this.container.append(this.root),this.root.append(this.header,this.main,this.footer)}}st.config={};class nt extends et{constructor(t,e={}){super(t),e={...nt.config,...e},this.root=document.createElement("div"),this.root.classList.add(e.right?"right-side-bar":"left-side-bar"),this.sidebar=document.createElement("div"),this.main=document.createElement("div"),this.sidebar.classList.add("side-bar-region"),this.main.classList.add("main-region"),this.container.append(this.root),this.root.append(this.main,this.sidebar)}}function ot(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function at(t,e,i){var r,s,n=document.createElement("a");e=e||t.name||"download",n.download=e,n.rel="noopener","string"==typeof t?(n.href=t,n.origin!==location.origin?(r=n.href,(s=new XMLHttpRequest).open("HEAD",r,!1),s.send(),s.status>=200&&s.status<=299?function(t,e,i){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){at(r.response,e,i)},r.onerror=function(){console.error("could not download file")},r.send()}(t,e,i):ot(n)):ot(n)):(n.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(n.href)}),4e4),setTimeout((function(){ot(n)}),0))}nt.config={right:!1};class lt{static parseName(t,e=!0){let i=t.lastIndexOf("/")+1,r=e?t.lastIndexOf("."):t.length;return t.substr(i,r-i)}static getScriptName(t=!0){let e,i,r=new Error,s=new RegExp(/.+\/(.*?):\d+(:\d+)*$/),n=new RegExp(/getScriptName \(.+\/(.*):\d+:\d+\)/);if((e=s.exec(r.stack.trim()))&&""!=e[1])i=e[1];else{if(!(e=n.exec(r.stack.trim())))return(i=lt.parseName(r.stack.trim(),t))?i:r.message;i=e[1]}if(t){let t=i.lastIndexOf(".");return i.substr(0,t)}return i}static download(t,e,i){return lt.getURL(i).then((i=>{let r=document.getElementById(t),s=document.createElementNS("http://www.w3.org/2000/svg","style");s.type="text/css",s.innerHTML=i.toString(),r.prepend(s),lt.saveSVG(e,r.outerHTML),s.remove()}))}static processRule(t){for(let e of t.styleMap)console.log(e);return""}static saveSVG(t,e){at(new Blob([e],{type:"image/svg+xml"}),t,{})}static getURL(t){return new Promise((function(e,i){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200==r.status?e(r.response):i(Error(r.statusText))},r.onerror=function(){i(Error("Network Error"))},r.send()}))}static getUrlParams(t){let e=t.slice(t.indexOf("?")+1).split("&"),i=new Map;for(let t of e){let e=t.split("=");i.set(e[0],e[1])}return i}static setUrlParams(t,e){let i=new URL(window.location.href);new URLSearchParams(i.search.slice(1)).set(t,e),alert(i.href),window.open(i.href)}static async loadScript(t,e){const i=await lt.getURL(t);let r=document.createElement("div");r.id=lt.parseName(t);let s=document.createElement("script");return s.type="module",s.src=t,e.appendChild(r),e.appendChild(s),i}}class ht{static factorial(t){return t<1?1:t*this.factorial(t-1)}static nextPrime(t){if(!Number.isInteger(t))throw Error("Please pass an integer as a parameter");for(;!ht.isPrime(++t););return t}static isPrime(t){if(!Number.isInteger(t)||t<=1)return!1;for(let e=2;e<=Math.sqrt(t);e++)if(t%e==0)return!1;return!0}static floor(t,e){return t-t%e}static ceil(t,e){return t+(e-t%e)}static pointWhereTwoLinesIntersect(t,e,i,r){let s,n=(e.y-t.y)/(e.x-t.x),o=(r.y-i.y)/(r.x-i.x),a=e.y-e.x*n,l=(r.y-r.x*o-a)/(n-o);return isFinite(n)?(isFinite(o)||(l=i.x),s=t.y+n*(l-t.x)):(l=t.x,s=i.y+o*(l-i.x)),new D(l,s)}static trapezoidalWave(t,e=1,i=1){return r=>(r=((r=Math.abs(r))-t)%i)<0?0:r<1*i/6?6*e*r/i:r<=1*i/2?e:r<2*i/3?4*e-6*e*r/i:0}}ht.TAU=2*Math.PI;const dt=ht.TAU,ut=t})(),r})()}));