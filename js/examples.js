var xt=class{constructor(t){this.data=t,this.next=null}toString(){return this.data.toString()}},ot=class{constructor(){this.head=null,this.count=0}insert(t){if(this.head==null)this.head=new xt(t);else{let e=this.head;this.head=new xt(t),this.head.next=e}this.count++}first(){return this.head!=null?this.head.data:null}remove(){return this.head!=null?(this.head=this.head.next,this.count--,!0):!1}size(){return this.count}toString(){let t=this.head,e="";for(;t!=null;)e+=t.toString()+" ",t=t.next;return e.substr(0,e.length-1)}[Symbol.iterator](){let t=this.head;return{next(){if(t==null)return{done:!0,value:void 0};{let i=t.data;return t=t.next,{done:!1,value:i}}}}}};var j=class{constructor(){this.relationships=new Map,this._size=0}add(t){this.contains(t)||(this.relationships.set(t,new Set),this._size++)}contains(t){return this.relationships.has(t)}remove(t){this.relationships.delete(t)&&this._size--}size(){return this._size}addDependency(t,e){this.add(t),this.add(e),this.relationships.get(t).add(e),this.traverse(t,t)}traverse(t,e,i=new Set){i.add(t);let r=this.getDependents(t,!0);for(let s of r){if(s==e)throw new Error("circular dependency");i.has(s)||this.traverse(s,e,i)}}hasDependents(t){return this.contains(t)&&this.relationships.get(t).size!=0}getAdjacentNodes(t){return this.relationships.get(t)}getDependents(t,e=!1){if(!this.relationships.has(t))return[];if(e)return this.relationships.get(t).keys();{let i=this.getTopologicalDependents(t);return i.remove(),i}}getTopologicalSort(){let t=new ot,e=new Set;for(let i of this.getNodes())e.has(i)||this.getTopologicalDependents(i,e,t);return t}getTopologicalDependents(t,e=new Set,i=new ot){e.add(t);let r=this.getDependents(t,!0);for(let s of r)e.has(s)||this.getTopologicalDependents(s,e,i);return i.insert(t),i}getNodes(){return this.relationships.keys()}toString(){let t="";for(let e of this.getNodes())for(let i of this.getDependents(e,!0))t+=e.toString()+"->"+i.toString()+`
`;return t}static Generate(t){let e=new j,i=0,r=t.indexOf("->",i);for(;r>0;){let s=t.substring(i,r);i=r+1,r=t.indexOf(`
`,r);let o=t.substring(i+1,r);e.addDependency(s,o),i=r+1,r=t.indexOf("->",i)}return e}};var ft=class{constructor(){this.dependencyGraph=new j,this.elements=new Map}clear(){this.dependencyGraph=new j,this.elements.clear()}add(t){this.dependencyGraph.add(t),this.elements.set(t.id,t)}remove(t){this.dependencyGraph.remove(t),this.elements.delete(t.id)}get(t){return this.elements.get(t)}update(t){let e=this.dependencyGraph.getDependents(t);for(let i of e)i.update()}};var y=class{constructor(){this._id=`${this.constructor.name.toLowerCase()}-${y.count++}`,y.controller.add(this),this.update=()=>{}}static clear(t=!1){y.count=0,y.controller.clear(),y.disable=t}get id(){return this._id}remove(){y.controller.remove(this)}addDependency(...t){for(let e of t)y.controller.dependencyGraph.addDependency(e,this)}updateDependents(){y.controller.update(this)}};y.disable=!1;y.controller=new ft;y.count=0;var m=class extends y{constructor(t){super();this.root=t,this.root.id=this.id,this.style=this.root.style,this.classList=this.root.classList}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}appendChild(t){return this.root.appendChild(t.root),t}prependChild(t){return this.root.prepend(t.root),t}contains(t){return this.root.contains(t.root)}remove(){y.controller.remove(this),this.root.remove()}clear(){let t;for(;t=this.root.firstChild;)y.controller.get(t.id).remove()}appendSelfWithin(t){let e;if(typeof t=="string"){if(e=document.getElementById(t),e==null)throw new Error(`There is no HTML element with the id: ${t}`)}else e=t;return e.appendChild(this.root),e}getBoundingBox(){return this.root instanceof SVGGraphicsElement?this.root.getBBox():null}};var L=class extends m{constructor(t){super(t)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}getPointAtLength(t){return this.root.getPointAtLength(t)}getTotalLength(){return this.root.getTotalLength()}isPointInFill(t){return this.root.isPointInFill(t)}isPointInStroke(t){return this.root.isPointInStroke(t)}};var C=class extends L{constructor(t,e,i){let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttributeNS(null,"cx",t.toString()),r.setAttributeNS(null,"cy",e.toString()),r.setAttributeNS(null,"r",i.toString()),super(r)}get r(){return this.root.r.baseVal.value}set r(t){this.root.r.baseVal.value=t}get cx(){return this.root.cx.baseVal.value}set cx(t){this.root.cx.baseVal.value=t}get cy(){return this.root.cy.baseVal.value}set cy(t){this.root.cy.baseVal.value=t}getPath(){throw new Error("Method not implemented.")}translate(t,e){this.root.cx.baseVal.value=this.root.cx.baseVal.value+t,this.root.cy.baseVal.value=this.root.cy.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}};var T=class extends L{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","ellipse");s.setAttributeNS(null,"cx",t.toString()),s.setAttributeNS(null,"cy",e.toString()),s.setAttributeNS(null,"rx",i.toString()),s.setAttributeNS(null,"ry",r.toString()),super(s)}get cx(){return this.root.cx.baseVal.value}set cx(t){this.root.cx.baseVal.value=t}get cy(){return this.root.cy.baseVal.value}set cy(t){this.root.cy.baseVal.value=t}get rx(){return this.root.rx.baseVal.value}set rx(t){this.root.rx.baseVal.value=t}get ry(){return this.root.ry.baseVal.value}set ry(t){this.root.ry.baseVal.value=t}translate(t,e){this.root.cx.baseVal.value=this.root.cx.baseVal.value+t,this.root.cy.baseVal.value=this.root.cy.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}};var B=class extends L{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttributeNS(null,"x1",t.toString()),s.setAttributeNS(null,"y1",e.toString()),s.setAttributeNS(null,"x2",i.toString()),s.setAttributeNS(null,"y2",r.toString()),super(s)}get x1(){return this.root.x1.baseVal.value}set x1(t){this.root.x1.baseVal.value=t}get y1(){return this.root.y1.baseVal.value}set y1(t){this.root.y1.baseVal.value=t}get x2(){return this.root.x2.baseVal.value}set x2(t){this.root.x2.baseVal.value=t}get y2(){return this.root.y2.baseVal.value}set y2(t){this.root.y2.baseVal.value=t}translate(t,e){this.root.x1.baseVal.value+=t,this.root.y1.baseVal.value+=e,this.root.x2.baseVal.value+=t,this.root.y2.baseVal.value+=e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}};var w=class extends L{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"height",r.toString()),super(s)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set height(t){this.root.height.baseVal.value=t}translate(t,e){this.root.x.baseVal.value=this.root.x.baseVal.value+t,this.root.y.baseVal.value=this.root.y.baseVal.value+e}get fill(){return this.root.style.fill}set fill(t){this.root.style.fill=t}get stroke(){return this.root.style.stroke}set stroke(t){this.root.style.stroke=t}};var k=class extends L{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",t),super(e)}get d(){return this.root.getAttribute("d")}set d(t){this.root.setAttribute("d",t)}attatchArrow(t,e=!0){if(t===void 0)throw new Error(`Undefined definitions ${this}: ${this.id}`);t.root.innerHTML='<marker id="arrow" refX="10" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#404040; stroke:none;"></path></marker>',e?this.setAttribute("marker-start","url(#arrow)"):this.setAttribute("marker-end","url(#arrow)")}static getPath(t){if(t instanceof C)return new k(`M ${t.cx+t.r} ${t.cy} A ${t.r} ${t.r} 0 0 0 ${t.cx-t.r} ${t.cy} A ${t.r} ${t.r} 0 0 0 ${t.cx+t.r} ${t.cy}`);throw t instanceof T||t instanceof B||t instanceof k||t instanceof w,Error("Not Implemented")}};var G=class extends L{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","polygon");e.setAttributeNS(null,"points",t),super(e)}get points(){return this.root.getAttribute("points")}};var N=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","desc");super(t)}};var R=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","metadata");super(t)}};var W=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","title");super(t)}};var Q=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","clipPath");super(t)}circle(t,e,i){return this.appendChild(new C(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new T(t,e,i,r))}line(t,e,i,r){return this.appendChild(new B(t,e,i,r))}path(t){return this.appendChild(new k(t))}polygon(t){return this.appendChild(new G(t))}rectangle(t,e,i,r){return this.appendChild(new w(t,e,i,r))}description(){return this.appendChild(new N)}metadata(){return this.appendChild(new R)}title(){return this.appendChild(new W)}};var I=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","defs");super(t)}marker(t,e,i,r){return this.appendChild(new K(t,e,i,r))}};var it=class extends m{constructor(t){let e=document.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS(null,"href",t),super(e)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}};var Y=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","symbol");super(t)}get x(){throw new Error("Not Implemented")}set x(t){throw new Error("Not Implemented")}get y(){throw new Error("Not Implemented")}set y(t){throw new Error("Not Implemented")}get width(){throw new Error("Not Implemented")}set width(t){throw new Error("Not Implemented")}get height(){throw new Error("Not Implemented")}set height(t){throw new Error("Not Implemented")}get preserveAspectRatio(){throw new Error("Not Implemented")}set preserveAspectRatio(t){throw new Error("Not Implemented")}get viewBox(){return this.root.getAttribute("viewBox")}set viewBox(t){this.root.setAttributeNS(null,"viewBox",t)}get refX(){throw new Error("Not Implemented")}set refX(t){throw new Error("Not Implemented")}get refY(){throw new Error("Not Implemented")}set refY(t){throw new Error("Not Implemented")}};var nt=class extends m{constructor(t,e,i){let r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttributeNS(null,"href",t),r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",i.toString()),super(r)}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set y2(t){this.root.height.baseVal.value=t}};var J=class extends m{constructor(t=""){let e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.innerHTML=t,super(e)}get text(){return this.root.innerHTML}set text(t){this.root.innerHTML=t}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}tspan(t=""){let e=new J(t);return this.root.appendChild(e.root),e}};var b=class extends m{constructor(t,e,i=""){let r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttributeNS(null,"x",t.toString()),r.setAttributeNS(null,"y",e.toString()),i!=null&&(r.innerHTML=i),super(r)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}set contents(t){this.root.innerHTML=t}get contents(){return this.root.innerHTML}get x(){return Number(this.root.getAttribute("x"))}get y(){return Number(this.root.getAttribute("y"))}set x(t){this.root.setAttribute("x",t.toString())}set y(t){this.root.setAttribute("y",t.toString())}get length(){return document.createElement("canvas").getContext("2d").measureText(this.root.innerHTML).width}text(t,e,i){let r=new b(t,e,i);return this.root.appendChild(r.root),r}tspan(t=""){let e=new J(t);return this.root.appendChild(e.root),e}};var H=class extends m{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",e.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"height",r.toString()),super(s)}get href(){return this.root.href.baseVal}set href(t){this.root.href.baseVal=t}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get width(){return this.root.width.baseVal.value}set width(t){this.root.width.baseVal.value=t}get height(){return this.root.height.baseVal.value}set height(t){this.root.height.baseVal.value=t}};var K=class extends m{constructor(t,e,i,r){let s=document.createElementNS("http://www.w3.org/2000/svg","marker");s.setAttributeNS(null,"refX",t.toString()),s.setAttributeNS(null,"refY",e.toString()),s.setAttributeNS(null,"markerWidth",i.toString()),s.setAttributeNS(null,"markerHeight",r.toString()),super(s)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}get viewBox(){return this.getAttribute("viewBox")}set viewBox(t){this.setAttribute("viewBox",t)}get refX(){return this.root.refX.baseVal.value}set refX(t){this.root.refX.baseVal.value=t}get refY(){return this.root.refY.baseVal.value}set refY(t){this.root.refY.baseVal.value=t}get width(){return this.root.markerWidth.baseVal.value}set width(t){this.root.markerWidth.baseVal.value=t}get height(){return this.root.markerHeight.baseVal.value}set height(t){this.root.markerHeight.baseVal.value=t}description(){return this.appendChild(new N)}metadata(){return this.appendChild(new R)}title(){return this.appendChild(new W)}defs(){return this.appendChild(new I)}group(){return this.appendChild(new v)}svg(){return this.appendChild(new E)}symbol(){return this.appendChild(new Y)}use(t,e,i,r){return this.appendChild(new H(t,e,i,r))}circle(t,e,i){return this.appendChild(new C(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new T(t,e,i,r))}line(t,e,i,r){return this.appendChild(new B(t,e,i,r))}path(t){return this.appendChild(new k(t))}polygon(t){return this.appendChild(new G(t))}rectangle(t,e,i,r){return this.appendChild(new w(t,e,i,r))}text(t,e,i){return this.appendChild(new b(t,e,i))}};var gt=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","script");super(t)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}};var E=class extends m{constructor(t,e){let i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),t&&e&&(i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString())),super(i)}static SVG(t,e,i){let r;if(typeof t=="string"){if(r=document.getElementById(t),r==null)throw new Error(`There is no HTML element with the id: ${t}`)}else r=t;let s=new E(e,i);return r.appendChild(s.root),s}get width(){return this.root.width.baseVal.value}set width(t){this.root.setAttribute("width",t.toString())}get height(){return this.root.height.baseVal.value}set height(t){this.root.setAttribute("height",t.toString())}get x(){return this.root.x.baseVal.value}set x(t){this.root.x.baseVal.value=t}get y(){return this.root.y.baseVal.value}set y(t){this.root.y.baseVal.value=t}get maxX(){return this.root.viewBox.baseVal.x+this.root.viewBox.baseVal.width}get maxY(){return this.root.viewBox.baseVal.y+this.root.viewBox.baseVal.height}get viewBox(){return this.root.getAttribute("viewBox")}set viewBox(t){this.root.setAttribute("viewBox",t)}setViewBox(t,e,i,r){this.root.setAttribute("viewBox",`${t} ${e} ${i} ${r}`)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}description(){return this.appendChild(new N)}metadata(){return this.appendChild(new R)}title(){return this.appendChild(new W)}circle(t,e,i){return this.appendChild(new C(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new T(t,e,i,r))}image(t,e,i){return this.appendChild(new nt(t,e,i))}line(t,e,i,r){return this.appendChild(new B(t,e,i,r))}path(t=""){return this.appendChild(new k(t))}polygon(t){return this.appendChild(new G(t))}rect(t,e,i,r){return this.rectangle(t,e,i,r)}rectangle(t,e,i,r){return this.appendChild(new w(t,e,i,r))}defs(){return this.appendChild(new I)}group(){return this.appendChild(new v)}svg(t,e,i,r){let s=new E(i,r);return s.x=t,s.y=e,this.appendChild(s)}symbol(){return this.appendChild(new Y)}use(t,e,i,r){return this.appendChild(new H(t,e,i,r))}text(t,e,i=""){return this.appendChild(new b(t,e,i))}a(t){return this.appendChild(new it(t))}clipPath(){return this.appendChild(new Q)}marker(t,e,i,r){return this.appendChild(new K(t,e,i,r))}script(){return this.appendChild(new gt)}};var v=class extends m{constructor(){let t=document.createElementNS("http://www.w3.org/2000/svg","g");super(t)}setAttribute(t,e){return this.root.setAttribute(t,e),this}getAttribute(t){return this.root.getAttribute(t)}description(){return this.appendChild(new N)}metadata(){return this.appendChild(new R)}title(){return this.appendChild(new W)}defs(){return this.appendChild(new I)}group(){return this.appendChild(new v)}svg(t,e){return this.appendChild(new E(t,e))}symbol(){return this.appendChild(new Y)}use(t,e,i,r){return this.appendChild(new H(t,e,i,r))}circle(t,e,i){return this.appendChild(new C(t,e,i))}ellipse(t,e,i,r){return this.appendChild(new T(t,e,i,r))}line(t,e,i,r){return this.appendChild(new B(t,e,i,r))}path(t){return this.appendChild(new k(t))}polygon(t){return this.appendChild(new G(t))}rectangle(t,e,i,r){return this.appendChild(new w(t,e,i,r))}text(t,e,i){return this.appendChild(new b(t,e,i))}a(t){return this.appendChild(new it(t))}clipPath(){return this.appendChild(new Q)}};var V=class extends v{constructor(){super();let t=this;t._onchange=function(){t.updateDependents()}}pushOnChange(t){let e=this,i=e._onchange;e.onchange=()=>{t(),i()}}set onchange(t){this._onchange=t}get onchange(){return this._onchange}};var lt=class extends V{constructor(t,e,i){super();this._count=0,this._x=t,this._y=e,this._active=!1,this.root.setAttribute("transform",`translate(${t},${e})`),this.root.classList.add("button"),this.label=new b(0,1,i),this.label.root.setAttribute("alignment-baseline","middle"),this.label.root.style.textAnchor="middle",this.box=this.rectangle(0,-16,this.label.length*2+16,32),this.box.root.setAttribute("rx","2px"),this.label.x=this.box.x+this.box.width/2,this.appendChild(this.label);let r=this;this.root.onmousedown=()=>{r.active=!this.active},this.root.onmouseup=()=>{r.active=!this.active}}get x(){return this._x}set x(t){this._x=t,this.root.setAttribute("transform",`translate(${this._x},${this._y})`)}get y(){return this._y}set y(t){this._y=t,this.root.setAttribute("transform",`translate(${this._x},${this._y})`)}get count(){return this._count}get active(){return this._active}set active(t){this.active&&!t&&this._count++,this._active=t,this._active?(this.box.style.fill="#f8f8f8",this.box.style.stroke="#333333",this.box.style.strokeWidth="1px",this.label.style.fill="#404040"):(this.box.style.fill="",this.label.style.fill=""),this.onchange()}set onclick(t){this.root.onclick=t,this.onchange()}};var tt=class extends V{constructor(t,e,i,r){super();this._value=!1,this.root.setAttribute("transform",`translate(${t},${e})`),this.box=new w(-6.5,-6.5,13,13),this.box.root.setAttribute("rx","2px"),this.label=new b(18,1,i),this.label.root.setAttribute("alignment-baseline","middle"),this.root.appendChild(this.box.root),this.root.appendChild(this.label.root);let s=this;this.value=r,this.box.root.onmousedown=function(){s.toggle()},this.addDependency(this.box)}set value(t){(this._value=t)?this.box.style.fill="#404040":this.box.style.fill="",this.onchange()}get value(){return this._value}number(){return this.value?1:0}toggle(){this.value=!this.value}};var rt=2*Math.PI;var $=class extends y{constructor(t,e){super();this.x=t,this.y=e}};var d=class extends V{constructor(t,e){super();this.constrain=function(i,r){return r},this.point=this.circle(0,0,d.pointRadius),this.handle=this.circle(0,0,d.handleRadius),this.point.classList.add("point"),this.handle.classList.add("handle"),this.root.classList.add("control"),this._x=t,this._y=e,this._dx=0,this._dy=0,this.update=()=>{},this.translate(t,e),this.root.onmousedown=this.handleMouseDown.bind(this),this.handle.root.onmouseout=this.handleMouseOut.bind(this),this.handle.root.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),d.initalized||(window.onmouseover=d.handleMouseOver,window.onmousemove=d.handleMouseMove,window.onmouseup=d.handleInputEnd,window.addEventListener("touchend",d.handleInputEnd,{passive:!1}),window.addEventListener("touchmove",d.handleTouchMove,{passive:!1}),d.initalized=!0)}static handleMouseMove(t){d.active!=null&&(d.handleMoveTo(t.clientX,t.clientY),t.preventDefault())}static handleTouchMove(t){d.active!=null&&(d.handleMoveTo(t.touches[0].clientX,t.touches[0].clientY),t.preventDefault())}static handleMoveTo(t,e){let i=d.closestSVG.createSVGPoint();i.x=t,i.y=e;let r=i.matrixTransform(d.ctm.inverse()),s=r.x+d.slopX,o=r.y+d.slopY;d.active.translate(s,o)}converToDisplay(){this.point.fill="#404040",this.point.r=3.5}static handleInputEnd(t){d.active!=null&&(d.active.handle.root.classList.remove("highlight"),d.active=null,t.type!="touchend"&&t.target.dispatchEvent(new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0})))}static handleMouseOver(t){d.active==null&&!y.disable&&t.target.tagName=="circle"&&t.target.classList.add("highlight")}handleMouseOut(t){d.active==null&&t.target.classList.remove("highlight")}handleMouseDown(t){if(!y.disable){t.preventDefault(),t.stopPropagation(),d.active=this,d.closestSVG=d.active.root.closest("svg"),d.ctm=d.closestSVG.getScreenCTM();let e=d.closestSVG.createSVGPoint();e.x=t.clientX,e.y=t.clientY;let i=e.matrixTransform(d.ctm.inverse());d.slopX=d.active.x-i.x,d.slopY=d.active.y-i.y}}handleTouchStart(t){if(!y.disable){d.active=this,d.closestSVG=d.active.root.closest("svg"),d.ctm=d.closestSVG.getScreenCTM();let e=d.closestSVG.createSVGPoint();e.x=t.touches[0].clientX,e.y=t.touches[0].clientY;let i=e.matrixTransform(d.ctm.inverse());d.slopX=d.active.x-i.x,d.slopY=d.active.y-i.y,t.preventDefault()}}translate(t,e){let i=this.constrain(this,new $(t,e));this._dx=i.x-this._x,this._dy=i.y-this._y,this._x=i.x,this._y=i.y,this.root.setAttribute("transform",`translate( ${this.x}, ${this.y})`),this.onchange()}set x(t){this._dx=t-this.x,this._x=t,this.root.setAttribute("transform","translate( "+this.x+", "+this.y+")")}set y(t){this._dy=t-this.y,this._y=t,this.root.setAttribute("transform","translate( "+this.x+", "+this.y+")")}get x(){return this._x}get y(){return this._y}get dx(){return this._dx}get dy(){return this._dy}get displayAngle(){return this.y<=0?Math.abs(Math.atan2(this.y,this.x)):rt-Math.atan2(this.y,this.x)}get angle(){return(Math.atan2(this.y,this.x)+rt)%rt}constrainTo(t){if(this.addDependency(t),t instanceof k)throw Error("not implemented");t instanceof C?this.constrain=function(e,i){let r=Math.atan2(i.y-t.cy,i.x-t.cx),s=t.r*Math.cos(r)+t.cx,o=t.r*Math.sin(r)+t.cy;return new $(s,o)}:t instanceof w&&(this.constrain=function(e,i){let r=i.x,s=i.y,o=t.x,n=t.y,a=t.x+t.width,l=t.y+t.height,h=t.x+t.width/2,c=t.y+t.height/2;return s>=l&&r>=a?(s=l,r=a):s<=n&&r<=o?(s=n,r=n):s<=n&&r>=a?(s=n,r=a):s>=l&&r<=o?(s=l,r=o):r>o&&r<a?s>c?s=l:s=n:r>h?r=a:r=o,new $(r,s)})}constrainWithin(t){if(this.addDependency(t),t instanceof k)throw Error("not implemented");t instanceof C?this.constrain=function(e,i){if(Math.hypot(i.y-t.cy,i.x-t.cx)>t.r){let r=Math.atan2(i.y-t.cy,i.x-t.cx),s=t.r*Math.cos(r)+t.cx,o=t.r*Math.sin(r)+t.cy;return new $(s,o)}else return i}:t instanceof w&&(this.constrain=function(e,i){let r=i.x,s=i.y,o=t.x,n=t.y,a=t.x+t.width,l=t.y+t.height;return r<o&&(r=o),s<n&&(s=n),r>a&&(r=a),s>l&&(s=l),new $(r,s)})}constrainToCircle(t,e,i){this.constrain=function(r,s){let o=Math.atan2(s.y-e,s.x-t),n=i*Math.cos(o)+t,a=i*Math.sin(o)+e;return new $(n,a)}}constrainWithinBox(t,e,i,r){this.constrain=function(s,o){let n=o.x,a=o.y;return n<t&&(n=t),a<e&&(a=e),n>i&&(n=i),a>r&&(a=r),new $(n,a)}}constrainWithinRange(t,e){this.constrain=function(i,r){let s=r.x,o=r.y;return s<t&&(s=t),s>e&&(s=e),new $(s,o)}}constrainToX(t=-Infinity,e=Infinity){this.constrain=function(i,r){return new $(r.x,i.y)}}constrainToY(){this.constrain=function(t,e){return new $(t.x,e.y)}}};d.pointRadius=3.5;d.handleRadius=13;d.active=null;d.slopX=0;d.slopY=0;d.prevX=0;d.prevY=0;d.initalized=!1;var P=class extends d{constructor(t,e){super(t,e);this.point.r=P.circleRadius,this.handle.r=P.circleRadius+.8,this.handle.style.strokeWidth="2",this.point.style.fill=this.handle.style.stroke}};P.circleRadius=10;var at=class extends V{constructor(t,e,i,r=0){if(i===void 0||i.length==0)throw new Error("Labels must not be empty");super();this.root.setAttribute("transform",`translate(${t},${e})`),this.index=r;let s=0;this.list=[];let o=this;i.forEach((n,a)=>{let l=new tt(0,s,n,!1);a==r&&(l.value=!0),l.box.root.setAttribute("rx","8px"),l.box.root.onmousedown=function(){o.handleMouseDown(a),l.value=!0,o.index=a,o.onchange()},this.root.appendChild(l.root),this.list.push(l),s+=24})}get value(){return this.list[this.index].label.contents}getCurrentValue(){return this.list[this.index].label}handleMouseDown(t){this.list.forEach(e=>{e.value=!1})}};var ht=class extends V{constructor(t,e,i,r){if(i===void 0||i.length===0)throw new Error("Dropdown control must have at least one option");if(r<0||r>=i.length)throw new Error("Default index must be within bounds of option labels array.");super();this.optionLabels=i,this.currentIndex=r,this.expanded=!1,this.textWidth=new b(0,0,this.getLongestString(i)).length,this.x=t,this.y=e,this.collapsedView=new v,this.collapsedView.setAttribute("transform",`translate(${this.x},${this.y})`),this.currSelection=new v,this.currSelection.root.classList.add("dropdown-control-curr-selection-box"),this.currSelectionText=new b(0,1,this.optionLabels[this.currentIndex]),this.currSelectionText.root.setAttribute("alignment-baseline","middle"),this.currSelectionText.style.textAnchor="middle",this.currSelectionBox=new w(0,-16,this.textWidth*3+16,32),this.currSelectionText.x=this.currSelectionBox.x+this.currSelectionBox.width/2,this.currSelection.appendChild(this.currSelectionBox),this.currSelection.appendChild(this.currSelectionText);let s=new v;s.root.classList.add("dropdown-control-button");let o=new w(this.textWidth*3+16,-16,32,32),n=8,a=new k(` M ${n+this.textWidth*3+32} ${n*Math.sin(-2*Math.PI/3)+1} L ${n*Math.cos(-2*Math.PI/3)+this.textWidth*3+28} ${n*Math.sin(-2*Math.PI/3)+1} L ${(n+this.textWidth*3+32+n*Math.cos(-2*Math.PI/3)+this.textWidth*3+28)/2} ${n*Math.sin(-4*Math.PI/3)+1} Z`);a.style.fill="#333333",s.appendChild(o),s.appendChild(a);let l=this;s.root.onmousedown=function(){l.expanded?(l.root.removeChild(l.expandedView.root),l.expanded=!1):(l.updateExpandedView(),l.root.appendChild(l.expandedView.root),l.expanded=!0),l.onchange()},this.collapsedView.appendChild(this.currSelection),this.collapsedView.appendChild(s),this.root=this.collapsedView.root,this.root.id=this.id}get value(){return this.optionLabels[this.currentIndex]}updateExpandedView(){this.expandedView=new v,this.collapsedView.setAttribute("transform",`translate(${this.x},${this.y})`);let t=new v;t.root.classList.add("dropdown-control-menu-option");let e=new b(0,1,this.optionLabels[this.currentIndex]);e.root.setAttribute("alignment-baseline","middle"),e.style.textAnchor="middle";let i=new w(0,-16,this.textWidth*3+16,32);e.x=i.x+i.width/2,t.appendChild(i),t.appendChild(e),this.expandedView.appendChild(t);let r=this,s=32;this.optionLabels.forEach((o,n)=>{if(n==this.currentIndex)return;let a=new v;a.root.classList.add("dropdown-control-menu-option");let l=new b(0,1+s,o);l.root.setAttribute("alignment-baseline","middle"),l.style.textAnchor="middle";let h=new w(0,-16+s,this.textWidth*3+16,32);l.x=h.x+h.width/2,a.appendChild(h),a.appendChild(l),a.root.onmousedown=function(){r.root.removeChild(r.expandedView.root),r.expanded=!1,r.currentIndex=n,r.currSelectionText.contents=o,r.onchange()},this.expandedView.appendChild(a),s+=32})}getCurrentSelection(){return this.optionLabels[this.currentIndex]}getLongestString(t){if(t.length==0)return"";let e=t[0];for(let i=1;i<t.length;i++)t[i].length>e.length&&(e=t[i]);return e}};var X=class extends V{constructor(t,e,i){super();let r,s;this.x=t,this.y=e,i.width?r=i.width:r=100,i.value?s=i.value:s=0,i.min?this._min=i.min:this._min=0,i.max?this._max=i.max:this._max=1,this._line=this.line(t,e,t+r,e),this._line.root.style.stroke="#404040",this._line.root.style.strokeWidth="1.5",this._line.root.style.strokeLinecap="round",this._control=new P(t+s,e),this._control.constrainWithinBox(t,e,t+r,e),this._control.point.r-=1.5,this._control.handle.r-=2,this._control.handle.style.strokeWidth="2",this.appendChild(this._control),this.value=s;let o=this,n=o._control.onchange;o._control.onchange=function(){n(),o.onchange()}}get width(){return this._line.x2-this._line.x1}set width(t){this._line.x2=this._line.x1+t,this._control.constrainWithinBox(this._line.x1,this._line.y1,this._line.x2,this._line.y2)}get value(){return(this._control.x-this._line.x1)/this.width*this.range+this._min}set value(t){this._control.x=this._line.x1+(t-this._min)/this.range*this.width}set step(t){let e=this._line;this._control.constrain=function(i,r){let s=r.x,o=r.y;return s<e.x1&&(s=e.x1),o<e.y1&&(o=e.y1),s>e.x2&&(s=e.x2),o>e.y2&&(o=e.y2),s=Math.floor(s/50)*50,new $(s,o)}}get min(){return this._min}set min(t){this._min=t}get max(){return this._max}set max(t){this._max=t}get range(){return this.max-this.min}};var dt=class extends X{constructor(t,e,i){let s={...{width:486,loop:!1},...i},o=14;s.width=s.width-28,super(t+6+2*o,e,s),this.active=!1,this.loop=s.loop,this.done=!1;let n=this.circle(0,0,o);n.style.fill="#eeeeee",n.style.stroke="#333333",n.style.strokeWidth="1px",n.classList.add("animation-button");let a=6,l=this.path(` M ${a} ${0} L ${a*Math.cos(-2*Math.PI/3)} ${a*Math.sin(-2*Math.PI/3)} L ${a*Math.cos(-4*Math.PI/3)} ${a*Math.sin(-4*Math.PI/3)} Z`);l.style.fill="#333333",this.playButton=this.group(),this.playButton.appendChild(n),this.playButton.appendChild(l),this.playButton.circle(0,0,20).style.opacity="0",this.playButton.setAttribute("transform",`translate( ${t}, ${e})`);let h=this.circle(0,0,o);h.style.fill="#eeeeee",h.style.stroke="#333333",h.style.strokeWidth="1px";let c=6,f=this.path(`M ${-c/2} ${-4} L ${-c/2} ${4} M ${c/2} ${-4} L ${c/2} ${4}`);f.style.stroke="#333333",f.style.strokeWidth="2",f.style.strokeLinecap="round",this.pauseButton=this.group(),this.pauseButton.style.display="none",this.pauseButton.appendChild(h),this.pauseButton.appendChild(f),this.pauseButton.circle(0,0,20).style.opacity="0",this.pauseButton.setAttribute("transform",`translate( ${t}, ${e})`);let x=this;this.playButton.root.addEventListener("click",function(){x.playButton.style.display="none",x.pauseButton.style.display="",x.play()}),this.pauseButton.root.addEventListener("click",function(){x.pause()});let p=this.onchange;this.onchange=function(){x.value==x.max?x.done=!0:x.done=!1,p()}}setValue(t){t<this.min?this.value=this.min:t>this.max&&this.loop?this.value=t%this.max:t>this.max?this.value=this.max:this.value=t,this.onchange()}getValue(){return this.value}play(){if(!this.active){let t=this;t.active=!0,this.done&&(this.value=this.min,this.done=!1);let e=.0025*t.range,i,r,s=function(o){i===void 0&&(i=o,r=0);let n=o-i;t.value+=e,t.value>=t.max&&!t.loop?(t.value=t.max,t.pause(),t.done=!0,t.onchange()):(t.value=t.value%t.max,t.onchange(),r=n,t.requestID=window.requestAnimationFrame(s))};window.requestAnimationFrame(s)}}pause(){this.active=!1,this.pauseButton.style.display="none",this.playButton.style.display="",window.cancelAnimationFrame(this.requestID)}};var yt=class extends V{constructor(t){super();this._xBound=null,this._yBound=null,this.label=new b(0,1,t),this.label.root.setAttribute("alignment-baseline","middle"),this.label.root.style.textAnchor="middle",this.box=this.rectangle(0,-16,this.label.length*2+16,32),this.box.root.setAttribute("rx","2px"),this.box.fill="white",this.box.stroke="black",this.box.style.fillOpacity="0.9",this.label.x=this.box.x+this.box.width/2,this.appendChild(this.label),this._x=this.box.x,this._y=this.box.y,this.root.setAttribute("visibility","hidden")}set x(t){this._xBound&&t>=this._xBound-this.box.width&&(t=this._xBound-this.box.width),this._x=t,this.box.x=this._x,this.label.x=this.box.x+this.box.width/2}set y(t){this._yBound&&(t>=this._yBound-this.box.height?t=this._yBound-this.box.height:t<=this.box.height&&(t=this.box.height)),this._y=t,this.box.y=this._y-37,this.label.y=this.box.y+this.box.height/2}setBounds(t,e){this._xBound=t,this._yBound=e}setText(t){this.label.contents=t,this.label.x=this.box.x+this.box.width/2,this.label.y=this.box.y+this.box.height/2,this.box.width=this.label.length*2+16}updatePosition(t,e){this.x=t,this.y=e}showHoverBox(){this.root.removeAttribute("visibility")}hideHoverBox(){this.root.setAttribute("visibility","hidden")}};var wt=class extends v{constructor(t,e,i){super();this.setAttribute("transform",`translate( ${t}, ${e})`),this.style.alignmentBaseline="middle",this.style.textAnchor="middle",this.textElement=this.text(0,0,i)}drawBackgroundRectangle(){let t=this.textElement.getBoundingBox();this.textElement.remove();let e=this.rectangle(t.x-3,t.y-3,t.width+6,t.height+6);e.style.fill="#ffffff",e.style.stroke="none",this.appendChild(this.textElement)}};var F=class extends E{constructor(t,e={}){e={...{width:2*144,height:2*144/16*9,align:"left",origin:"default",responsive:!0},...e},super(e.width,e.height),this.container=this.appendSelfWithin(t),this.container.appendChild(this.root),this.root.classList.add("artboard"),this.background=new v,this.input=new v,this.root.appendChild(this.background.root),this.root.appendChild(this.input.root)}get definitions(){return this._definitions===void 0?super.appendChild(new I):this._definitions}appendChild(t){return t instanceof V?this.input.appendChild(t):this.background.appendChild(t),t}arrow(){let t=this._definitions.marker(10,5,10,10);return t.path("M 0 0 L 10 5 L 0 10 z").style.fill="#404040",t.setAttribute("orient","auto-start-reverse"),t}button(t,e,i){return this.appendChild(new lt(t,e,i))}checkBox(t,e,i,r){return this.appendChild(new tt(t,e,i,r))}radioControl(t,e,i,r=0){return this.appendChild(new at(t,e,i,r))}dropdownControl(t,e,i,r){return this.appendChild(new ht(t,e,i,r))}control(t,e){return this.appendChild(new d(t,e))}controlCircle(t,e){return this.appendChild(new P(t,e))}hoverBox(t){return this.appendChild(new yt(t))}label(t,e,i){let r=this.appendChild(new wt(t,e,i));return r.drawBackgroundRectangle(),r}slider(t,e,i){return this.appendChild(new X(t,e,i))}scrubber(t,e,i){return this.appendChild(new dt(t,e,i))}};var M=class extends F{constructor(t,e={}){if(e={...{origin:"default",align:"left",responsive:!0},...e},super(t,e),e.responsive&&this.classList.add("responsive"),e.maxWidth)switch(this.root.style.maxWidth=`${e.maxWidth}px`,e.align){case"center":this.root.style.margin="auto";break;case"right":this.root.style.marginLeft="auto";break;case"left":this.root.style.marginRight="auto";break;default:console.log(`Unknown alignment option: ${e.align}.`)}switch(e.origin){case"center":this.setViewBox(-this.width/2,-this.height/2,this.width,this.height);break;case"centerY":this.setViewBox(0,-this.height/2,this.width,this.height);break;case"topLeft":case"default":this.setViewBox(0,0,this.width,this.height);break;default:throw new Error(`Unrecognized origin: ${origin}. Please provide a valid orign`)}}drawGrid(t=!0,e=!0){let i=50,r=i,s=i/2,o=i/10;if(!this._grid){this._grid=this.group(),this._lines1=this._grid.group(),this._lines2=this._grid.group(),this._lines3=this._grid.group(),this._lines1.style.stroke=M.lightStroke,this._lines2.style.stroke=M.mediumStroke,this._lines3.style.stroke=M.darkStroke;let n=this.root.viewBox.baseVal,a=n.x,l=n.y,h=n.width,c=n.height,f=a+h,x=l+c;if(e){let p=this._grid.circle(0,0,3);p.classList.add("outline"),p.style.fill="var(--green)"}for(let p=Math.floor(a/o)*o;p<=f;p+=o){let g;p%r==0?g=this._lines3:p%s==0?g=this._lines2:g=this._lines1,g.line(p,l,p,x)}for(let p=Math.floor(l/o)*o;p<=x;p+=o){let g;p%r==0?g=this._lines3:p%s==0?g=this._lines2:g=this._lines1,g.line(a,p,f,p)}}}};M.lightStroke="#f8f8f8";M.mediumStroke="#f0f0f0";M.darkStroke="#dddddd";var A=class extends F{constructor(t,e){switch(e={...{origin:"default"},...e},super(t,e),this.style.display="block",this.style.maxWidth="100%",this.style.height="auto",this.style.overflow="visible",this.container.style.overflow="hidden",e.align){case"center":this.root.style.margin="auto";break;case"right":this.root.style.marginLeft="auto";break;case"left":this.root.style.marginRight="auto";break;default:throw new Error(`Unknown alignment option: ${e.align}.`)}switch(e.origin){case"center":this.setViewBox(-this.width/2,-this.height/2,this.width,this.height);break;case"centerY":this.setViewBox(0,-this.height/2,this.width,this.height);break;case"default":this.setViewBox(0,0,this.width,this.height);break;default:throw new Error(`Unrecognized origin: ${origin}. Please provide a valid orign`)}}drawGrid2(t,e,i,r,s,o){if(!this._grid){this._grid=this.background.group(),this._lines1=this._grid.group(),this._lines2=this._grid.group(),this._lines3=this._grid.group(),this._lines1.style.stroke=A.lightStroke,this._lines2.style.stroke=A.mediumStroke,this._lines3.style.stroke=A.darkStroke;let n=t+i,a=e+r;if(o){let l=this._grid.circle(0,0,3);l.style.fill="var(--green)",l.style.stroke="#485bfc",l.style.strokeWidth="1px"}for(let l=Math.floor(t/10)*10;l<=n;l+=10){let h;l%100==0?h=this._lines3:l%50==0?h=this._lines2:h=this._lines1,h.line(l,e,l,a)}for(let l=Math.floor(e/10)*10;l<=a;l+=10){let h;l%100==0?h=this._lines3:l%50==0?h=this._lines2:h=this._lines1,h.line(t,l,n,l)}if(s){let l=this.rect(0,0,this.width,this.height);l.style.strokeWidth="1px",l.style.stroke="blue",l.style.fill="none"}}}drawGrid(t=!1,e=!1){let i=this.root.viewBox.baseVal,r=i.x,s=i.y,o=720,n=i.height;this.drawGrid2(r,s,o,n,t,e)}};A.lightStroke="var(--light1)";A.mediumStroke="var(--light2)";A.darkStroke="var(--light3)";var D=class extends y{constructor(t,e={}){super();if(this.container=null,typeof t=="string"){if(this.container=document.getElementById(t),this.container===null||this.container===void 0)throw new Error(`There is no HTML element with the id: ${t}`)}else this.container=t}static getContainer(t){let e=null;if(typeof t=="string"){if(e=document.getElementById(t),e==null)throw new Error(`There is no HTML element with the id: ${t}`)}else e=t;return e}addRegion(){let t=document.createElement("div");return t.classList.add("region"),this.container.appendChild(t)}addCustomVariableDisplay(t,e,i){let r=document.createElement("div");r.classList.add("display-box"),t.appendChild(r);let s=t.getBoundingClientRect(),n=new F(r,{width:200,height:50,responsive:!1}).text(16,25,"");n.classList.add("katex-main"),n.style.dominantBaseline="middle",n.tspan(e).classList.add("katex-variable"),n.tspan(" = ");let a=n.tspan(i());return n.addDependency(this),n.update=()=>{a.text=i()},r}addContainer(t){let e=document.createElement("div");return e.classList.add("display-box"),t.appendChild(e)}addButton(t,e){let i=document.createElement("button");return i.classList.add("muted-button"),i.innerText=e,t.appendChild(i),i}addCheckbox(t,e,i){let r=document.createElement("div");r.classList.add("display-box"),r.style.padding="0.5rem",r.style.display="flex";let s=document.createElement("input");s.type="checkbox",s.checked=e,s.id=`input-${D.inputCount++}`;let o=document.createElement("label");return o.setAttribute("for",s.id),o.innerText=i,o.style.paddingLeft="0.5rem",t.appendChild(r),r.appendChild(s),r.appendChild(o),s}addSlider(t,e,i,r,s){let o=document.createElement("div");o.classList.add("display-box"),o.style.padding="0.5rem";let n=document.createElement("input");return n.type="range",n.min=e.toFixed(),n.max=i.toFixed(),n.value=r.toFixed(),n.setAttribute("aria-label",s),t.appendChild(o).appendChild(n)}addVariableDisplay(t,e,i,r=0){let s=document.createElement("div");s.classList.add("display-box"),t.appendChild(s);let o=t.getBoundingClientRect(),n=new F(s,{width:200,height:50,responsive:!1});if(i instanceof X){let a=n.text(16,25,"");a.classList.add("katex-main"),a.style.dominantBaseline="middle",a.tspan(e).classList.add("katex-variable"),a.tspan(" = ");let l=a.tspan(i.value.toFixed(r));a.addDependency(i),a.update=()=>{l.text=i.value.toFixed(r)}}else throw new Error("Not Implemented");return s}};D.inputCount=0;var st=class extends D{constructor(t,e={}){super(t);let i={...st.config,...e};this.root=document.createElement("div"),this.root.classList.add("holy-grail"),this.header=document.createElement("div"),this.left=document.createElement("div"),this.main=document.createElement("div"),this.right=document.createElement("div"),this.footer=document.createElement("div"),this.header.classList.add("header-region"),this.left.classList.add("left-region"),this.main.classList.add("main-region"),this.right.classList.add("right-region"),this.footer.classList.add("footer-region"),this.footer.style.display="flex",this.footer.style.flexDirection="column",this.container.append(this.root),this.root.append(this.header,this.left,this.main,this.right,this.footer)}};st.config={};var U=class extends D{constructor(t,e={}){super(t);let r={...{},...e};this.root=document.createElement("div"),this.root.classList.add("pancake"),this.header=document.createElement("div"),this.main=document.createElement("div"),this.footer=document.createElement("div"),this.header.classList.add("header-region"),this.main.classList.add("main-region"),this.footer.classList.add("footer-region"),this.footer.style.display="flex",this.footer.style.flexDirection="column",this.container.append(this.root),this.root.append(this.header,this.main,this.footer)}};U.config={};var z=class extends D{constructor(t,e={}){super(t);e={...z.config,...e},this.root=document.createElement("div"),this.root.classList.add(e.right?"right-side-bar":"left-side-bar"),this.sidebar=document.createElement("div"),this.main=document.createElement("div"),this.sidebar.classList.add("side-bar-region"),this.main.classList.add("main-region"),this.container.append(this.root),this.root.append(this.main,this.sidebar)}};z.config={right:!1};var et=class{static factorial(t){return t<1?1:t*this.factorial(t-1)}static nextPrime(t){if(!Number.isInteger(t))throw Error("Please pass an integer as a parameter");for(;!et.isPrime(++t););return t}static isPrime(t){if(!Number.isInteger(t)||t<=1)return!1;for(let e=2;e<=Math.sqrt(t);e++)if(t%e==0)return!1;return!0}static floor(t,e){return t-t%e}static ceil(t,e){return t+(e-t%e)}static pointWhereTwoLinesIntersect(t,e,i,r){let s=(e.y-t.y)/(e.x-t.x),o=(r.y-i.y)/(r.x-i.x),n=e.y-e.x*s,l=(r.y-r.x*o-n)/(s-o),h;return isFinite(s)?(isFinite(o)||(l=i.x),h=t.y+s*(l-t.x)):(l=t.x,h=i.y+o*(l-i.x)),new $(l,h)}static trapezoidalWave(t,e=1,i=1){return r=>(r=Math.abs(r),r=(r-t)%i,r<0?0:r<i*1/6?e*6*r/i:r<=i*1/2?e:r<i*2/3?e*4-e*6*r/i:0)}};et.TAU=2*Math.PI;var No=et.TAU;var bt=class{constructor(t,e=!1){this.colors={tag:"#404040",attribute:"#404040",value:"#404040"};this.colors2={tag:"#1c23a3",attribute:"cornflowerblue",value:"purple"};this.temp={tag:"purple",attribute:"#ab6f00",value:"#1c23a3"};let i=new M(t);i.height=125,i.root.setAttribute("width","100%"),this.background=i.group();let r="circle",s=i.text(0,0,"");s.classList.add("monospace");let o=s.tspan();o.style.fill=this.colors.tag,o.tspan("&lt;");let n=o.tspan(r);o.tspan(" ");let a=o.tspan("");this.addAttribute(a,"cx","50"),a.tspan(" "),this.addAttribute(a,"cy","50"),a.tspan(" "),this.addAttribute(a,"r","15"),o.tspan("&gt;");let l=s.tspan("..."),h=s.tspan();h.style.fill=this.colors.tag,h.tspan("&lt;/");let c=h.tspan(r);h.tspan("&gt;");let f=8,x=s.root.getBBox();i.setViewBox(x.x-f,x.y-f,x.width+2*f,x.height+2*f),i.height=2*(x.height+2*f),i.root.setAttribute("preserveAspectRatio","xMinYMid meet"),i.classList.add("border"),this.interactive=i,document.onload=()=>{e?this.annotate(l,"green"):(this.annotate(n,"purple"),this.annotate(a,"blue"),this.annotate(c,"purple"))}}addAttribute(t,e,i,r){t.tspan(e).style.fill=this.colors.attribute,t.tspan("="),t.tspan(`"${i}"`).style.fill=this.colors.value}annotate(t,e,i){let r=0,s=t.root.getBBox(),o=this.background.rectangle(s.x-r,s.y-r,s.width+2*r,s.height+2*r);return o.classList.add(e),o}},pt=bt;var vt=class extends pt{constructor(t){super(t,!0)}},Gt=vt;var ut=class extends A{constructor(t){A.lightStroke="#f8f8f8",A.mediumStroke="#f0f0f0",A.darkStroke="#d8d8d8",super(t,{width:400,height:300,align:"left"}),this.root.style.overflow="visible",this.drawGrid(!1,!1),this.xml=this.text(ut.margin,this.maxY-ut.margin,""),this.xml.classList.add("monospace"),this.xml.root.style.userSelect="none";let e=null;if(typeof t=="string"){if(e=document.getElementById(t),e==null)throw new Error(`There is no HTML element with the id: ${t}`)}else e=t;e.classList.add("overflow-container","hard-border"),e.appendChild(this.root)}},S=ut;S.margin=16;var St=class extends S{constructor(t){super(t);let e=this.xml,i=this.circle(0,0,0);i.classList.add("default");let r=this.line(0,0,0,0);r.stroke="cornflowerblue";let s=this.control(150,125),o=this.control(225,125);i.update=function(){this.cx=s.x,this.cy=s.y,this.r=Math.abs(o.x-s.x)},i.update(),i.addDependency(s),i.addDependency(o),o.update=function(){this.x+=s.dx,this.y+=s.dy},o.addDependency(s),o.constrainToX(),r.update=function(){this.x1=s.x,this.y1=s.y,this.x2=o.x,this.y2=o.y},r.update(),r.addDependency(s),r.addDependency(o);let n=e.tspan("&lt;");e.tspan("circle").style.fill="purple",e.tspan(" cx").style.fill="#ab6f00";let a=e.tspan("");e.tspan(" cy").style.fill="#ab6f00";let l=e.tspan("");e.tspan(" r").style.fill="#ab6f00";let h=e.tspan(""),c=e.tspan("&gt;");h.update=()=>{h.text=`="${i.r.toFixed(0)}"`},l.update=()=>{l.text=`="${i.cy.toFixed(0)}"`},a.update=()=>{a.text=`="${i.cx.toFixed(0)}"`},l.addDependency(i),a.addDependency(i),h.addDependency(i),i.updateDependents()}},Nt=St;var kt=class extends A{constructor(t){super(t,{width:400,height:300,align:"left"});this.container.classList.add("hard-border");let e=this,i=e.clipPath(),r=e.image("https://source.unsplash.com/ykH6Zx7ZKXQ/1600x900",720,405),s=i.path("");s.classList.add("default"),s.style.fill="#dddddd",s.style.fillOpacity="0.5";let o=e.control(50,50),n=e.control(250,50),a=e.control(250,250),l=e.control(50,250);s.update=function(){s.d=`M ${o.x.toFixed(0)} ${o.y.toFixed(0)} L ${n.x.toFixed(0)} ${n.y.toFixed(0)} L ${a.x.toFixed(0)} ${a.y.toFixed(0)} L ${l.x.toFixed(0)} ${l.y.toFixed(0)} Z`},s.update(),s.addDependency(o,n,a,l),r.setAttribute("clip-path",`url(#${i.id})`)}},It=kt;var Vt=class extends S{constructor(t){super(t);let e=new d(100,100);this.appendChild(e);let i=new b(115,115,`(${e.x}, ${e.y})`);i.setAttribute("dominant-baseline","hanging"),i.classList.add("monospace"),i.addDependency(e),i.update=()=>{i.x=e.x+15,i.y=e.y+15,i.contents=`(${e.x.toFixed(0)}, ${e.y.toFixed(0)})`},this.appendChild(i)}},Pt=Vt;var $t=class extends S{constructor(t){super(t);let e=this,i=this.xml,r=this.ellipse(0,0,0,0);r.classList.add("default");let s=this.line(0,0,0,0),o=this.line(0,0,0,0);s.stroke="cornflowerblue",o.stroke="cornflowerblue";let n=this.control(150,125),a=this.control(250,125),l=this.control(150,75);r.update=function(){this.cx=n.x,this.cy=n.y,this.rx=Math.abs(a.x-n.x),this.ry=Math.abs(l.y-n.y)},r.update(),r.addDependency(n),r.addDependency(a),r.addDependency(l),a.update=function(){this.x+=n.dx,this.y+=n.dy},a.addDependency(n),a.constrainToX(),l.update=function(){this.x+=n.dx,this.y+=n.dy},l.addDependency(n),l.constrainToY(),s.update=function(){this.x1=n.x,this.y1=n.y,this.x2=a.x,this.y2=a.y},s.update(),s.addDependency(n),s.addDependency(a),o.update=function(){this.x1=n.x,this.y1=n.y,this.x2=l.x,this.y2=l.y},o.update(),o.addDependency(n),o.addDependency(l),this.xml.tspan("&lt");let h=this.xml.tspan("ellipse "),c=this.xml.tspan("cx="),f=this.xml.tspan("cy="),x=this.xml.tspan("rx="),p=this.xml.tspan("ry=");this.xml.tspan("&gt;"),this.xml.x=20,this.xml.y=this.maxY-20,h.style.fill="purple",c.style.fill="#ab6f00",f.style.fill="#ab6f00",x.style.fill="#ab6f00",p.style.fill="#ab6f00";let g=c.tspan(""),_=f.tspan(""),O=x.tspan(""),q=p.tspan("");g.style.fill="#333333",_.style.fill="#333333",O.style.fill="#333333",q.style.fill="#333333",g.style.fill="#333333",g.addDependency(r),g.update=function(){g.text=`"${r.cx.toFixed(0)}" `},_.addDependency(r),_.update=function(){_.text=`"${r.cy.toFixed(0)}" `},O.addDependency(r),O.update=function(){O.text=`"${r.rx.toFixed(0)}" `},q.addDependency(r),q.update=function(){q.text=`"${r.ry.toFixed(0)}"`},r.updateDependents()}},Ft=$t;var At=class extends S{constructor(t){super(t);let e=this,i=this.xml,r=e.line(0,0,0,0);r.classList.add("default");let s=e.control(75,75),o=e.control(225,175);r.update=function(){this.x1=s.x,this.y1=s.y,this.x2=o.x,this.y2=o.y},r.update(),r.addDependency(s),r.addDependency(o),this.xml.tspan("&lt");let n=this.xml.tspan("line "),a=this.xml.tspan("x1="),l=this.xml.tspan("y1="),h=this.xml.tspan("x2="),c=this.xml.tspan("y2=");this.xml.tspan("&gt;"),this.xml.x=20,this.xml.y=this.maxY-20,n.style.fill="purple",a.style.fill="#ab6f00",l.style.fill="#ab6f00",h.style.fill="#ab6f00",c.style.fill="#ab6f00";let f=a.tspan(""),x=l.tspan(""),p=h.tspan(""),g=c.tspan("");f.style.fill="#333333",x.style.fill="#333333",p.style.fill="#333333",g.style.fill="#333333",f.addDependency(r),f.update=function(){f.text=`"${r.x1.toFixed(0)}" `},x.addDependency(r),x.update=function(){x.text=`"${r.y1.toFixed(0)}" `},p.addDependency(r),p.update=function(){p.text=`"${r.x2.toFixed(0)}" `},g.addDependency(r),g.update=function(){g.text=`"${r.y2.toFixed(0)}"`},r.updateDependents()}},_t=At;var Ct=class extends S{constructor(t){super(t);let e=this,i=this.xml,r=e.line(0,0,0,0),s=e.line(0,0,0,0);r.stroke="cornflowerblue",s.stroke="cornflowerblue";let o=e.path("");o.classList.add("default");let n=e.control(50,75),a=e.control(150,200),l=e.control(250,75);o.update=function(){o.d=`M ${n.x} ${n.y} Q ${a.x} ${a.y} ${l.x} ${l.y}`},o.update(),o.addDependency(n),o.addDependency(a),o.addDependency(l),r.update=function(){this.x1=n.x,this.y1=n.y,this.x2=a.x,this.y2=a.y},r.update(),r.addDependency(n),r.addDependency(a),s.update=function(){this.x1=a.x,this.y1=a.y,this.x2=l.x,this.y2=l.y},s.update(),s.addDependency(a),s.addDependency(l),i.update=function(){let h='<tspan style="fill:purple">path</tspan>',c='<tspan style="fill:#ab6f00">d</tspan>';this.contents=`&lt;${h} ${c}="M ${n.x.toFixed(0)} ${n.y.toFixed(0)} Q ${a.x.toFixed(0)} ${a.y.toFixed(0)} ${l.x.toFixed(0)} ${l.y.toFixed(0)}"&gt`},i.update(),i.addDependency(o)}},Rt=Ct;var Et=class extends S{constructor(t){super(t);let e=this,i=this.xml,r=e.line(0,0,0,0),s=e.line(0,0,0,0),o=e.line(0,0,0,0);r.stroke="cornflowerblue",s.stroke="cornflowerblue",o.stroke="cornflowerblue";let n=e.path("");n.classList.add("default");let a=e.control(50,75),l=e.control(50,200),h=e.control(250,200),c=e.control(250,75);n.update=function(){n.d=`M ${a.x} ${a.y} C ${l.x} ${l.y} ${h.x} ${h.y} ${c.x} ${c.y}`},n.update(),n.addDependency(a),n.addDependency(l),n.addDependency(h),n.addDependency(c),r.update=function(){this.x1=a.x,this.y1=a.y,this.x2=l.x,this.y2=l.y},r.update(),r.addDependency(a),r.addDependency(l),s.update=function(){this.x1=l.x,this.y1=l.y,this.x2=h.x,this.y2=h.y},s.update(),s.addDependency(l),s.addDependency(h),o.update=function(){this.x1=h.x,this.y1=h.y,this.x2=c.x,this.y2=c.y},o.update(),o.addDependency(h),o.addDependency(c),i.update=function(){let f='<tspan style="fill:purple">path</tspan>',x='<tspan style="fill:#ab6f00">d</tspan>';this.contents=`&lt;${f} ${x}="M ${a.x.toFixed(0)} ${a.y.toFixed(0)} C ${l.x.toFixed(0)} ${l.y.toFixed(0)} ${h.x.toFixed(0)} ${h.y.toFixed(0)} ${c.x.toFixed(0)} ${c.y.toFixed(0)}"&gt`},i.update(),i.addDependency(n)}},Wt=Et;var Lt=class extends S{constructor(t){let e=new z(t,{right:!0});super(e.main);let i=this,r=this.xml;this.root.parentElement.style.marginBottom="0.5rem";let s=i.path("");s.classList.add("default");let o=i.control(75,75),n=i.control(225,150),a=e.addSlider(e.sidebar,1,150,100,"Horizontal Radius"),l=e.addSlider(e.sidebar,1,150,75,"Vertical Radius"),h=e.addSlider(e.sidebar,0,180,0,"Rotation"),c=e.addCheckbox(e.sidebar,!1,"large-arc"),f=e.addCheckbox(e.sidebar,!1,"sweep"),x=e.addCheckbox(e.sidebar,!0,"show ellipsis"),p=this.group();p.root.style.strokeOpacity="0.3";function g(){s.update(),O.update(),q.update(),Ot.update(),qt.update(),s.updateDependents(),x.checked?p.root.style.strokeOpacity="0.3":p.root.style.strokeOpacity="0"}a.oninput=g,l.oninput=g,h.oninput=g,c.onchange=g,f.onchange=g,x.onchange=g,s.update=function(){this.d=`M ${o.x} ${o.y} A ${a.value} ${l.value} ${h.value} ${c.checked?"1":"0"} ${f.checked?"1":"0"} ${n.x} ${n.y}`},s.update(),s.addDependency(o),s.addDependency(n),r.update=function(){let ct='<tspan style="fill:purple">path</tspan>',mt='<tspan style="fill:#ab6f00">d</tspan>';this.contents=`&lt;${ct} ${mt}="M ${o.x.toFixed(0)} ${o.y.toFixed(0)} A ${a.value} ${l.value} ${h.value} ${c.checked?"1":"0"} ${f.checked?"1":"0"} ${n.x.toFixed(0)} ${n.y.toFixed(0)}"&gt`},r.update(),r.addDependency(s);let _=(ct,mt,Zt)=>{let Z=p.path("");return Z.classList.add("default"),Z.addDependency(o),Z.addDependency(n),Z.update=function(){this.d=`M ${o.x} ${o.y} A ${a.value} ${l.value} ${ct.value} ${mt?"1":"0"} ${Zt?"1":"0"} ${n.x} ${n.y}`},Z.update(),Z},O=_(h,!1,!1),q=_(h,!1,!0),Ot=_(h,!0,!1),qt=_(h,!0,!0)}},Yt=Lt;var Mt=class extends S{constructor(t){super(t);let e=this,i=this.xml,r=e.rectangle(0,0,0,0);r.classList.add("default");let s=e.control(50,50),o=e.control(250,200);o.update=function(){this.x+=s.dx,this.y+=s.dy},o.addDependency(s),r.update=function(){this.x=s.x,this.y=s.y,this.width=o.x-s.x,this.height=o.y-s.y},r.update(),r.addDependency(s),r.addDependency(o),i.update=function(){let n='<tspan style="fill:purple">rect</tspan>',a='<tspan style="fill:#ab6f00">x</tspan>',l='<tspan style="fill:#ab6f00">y</tspan>',h='<tspan style="fill:#ab6f00">width</tspan>',c='<tspan style="fill:#ab6f00">height</tspan>';this.contents=`&lt;${n} ${a}="${r.x.toFixed(0)} ${l}="${r.y.toFixed(0)} ${h}="${r.width.toFixed(0)} ${c}="${r.height.toFixed(0)}"&gt`},i.update(),i.addDependency(r)}},Ht=Mt;var Tt=class{constructor(t,e,i,r="left"){this.minWidth=288;let s=new E;t.appendChild(s.root);let o=new w(-e/2,-i/2,e,i);switch(s.setViewBox(o.x,o.y,o.width,o.height),s.root.setAttribute("width",`${e}`),s.root.setAttribute("height",`${i}`),s.root.style.display="block",s.root.style.maxWidth="100%",s.root.style.height="auto",r){case"middle":s.root.style.margin="auto";break;case"right":s.root.style.marginLeft="auto";break}s.root.style.overflow="visible",s.root.parentElement.style.overflow="hidden",this.ratio=e/i;let n=s.group(),a=s.group(),l=s.group();n.style.stroke="#fafafa",a.style.stroke="#eeeeee",l.style.stroke="#dcdcdc";let h=1e3,c=-1e3;for(let p=c;p<h;p+=10)p%100==0?l.line(p,c,p,h):p%10==0?a.line(p,c,p,h):n.line(p,c,p,h);for(let p=c;p<h;p+=10)p%100==0?l.line(c,p,h,p):p%10==0?a.line(c,p,h,p):n.line(c,p,h,p);let f=s.circle(0,0,3);f.style.fill="#81cfd9",f.style.stroke="#485bfc",f.style.strokeWidth="1px";let x=1;o.x+=.5,o.y+=.5,o.width-=1,o.height-=1,s.appendChild(o),o.style.stroke="#0366EE",o.style.strokeWidth=`${x}px`,o.style.fill="none"}},Xt=Tt;var Bt=class extends S{constructor(t){let e=new U(t);super(e.main);e.main.style.marginBottom="1rem";let i=this,r=this.xml,s=i.path("");s.classList.add("default");let o=i.control(50,50),n=i.control(225,175),a=e.addCheckbox(e.footer,!1,"relative");a.onchange=()=>{s.update(),s.updateDependents()},s.update=function(){a.checked?s.d=`m ${o.x.toFixed(0)} ${o.y.toFixed(0)} l ${(n.x-o.x).toFixed(0)} ${(n.y-o.y).toFixed(0)}`:s.d=`M ${o.x.toFixed(0)} ${o.y.toFixed(0)} L ${n.x.toFixed(0)} ${n.y.toFixed(0)}`},s.update(),s.addDependency(o),s.addDependency(n),r.update=function(){let l='<tspan style="fill:purple">path</tspan>',h='<tspan style="fill:#ab6f00">d</tspan>';this.contents=`&lt;${l} ${h}="${s.d}"&gt`},r.update(),r.addDependency(s)}},Ut=Bt;var Dt=class extends S{constructor(t){let e=new U(t);super(e.main);e.main.style.marginBottom="1rem";let i=this,r=this.xml,s=i.path("");s.classList.add("default"),s.style.fill="#dddddd",s.style.fillOpacity="0.5";let o=i.control(50,50),n=i.control(150,50),a=i.control(150,150);s.update=function(){s.d=`M ${o.x.toFixed(0)} ${o.y.toFixed(0)} L ${n.x.toFixed(0)} ${n.y.toFixed(0)} L ${a.x.toFixed(0)} ${a.y.toFixed(0)} Z`},s.update(),s.addDependency(o,n,a),r.update=function(){let l='<tspan style="fill:purple">path</tspan>',h='<tspan style="fill:#ab6f00">d</tspan>';this.contents=`&lt;${l} ${h}="${s.d}"&gt`},r.update(),r.addDependency(s)}},zt=Dt;var Fn={MetaSVGStructureExample:Gt,MetaSVGSyntaxExample:pt,SVGCircleExample:Nt,SVGClipPathExample:It,SVGCoordinateSystemExample:Pt,SVGEllipseExample:Ft,SVGLineExample:_t,SVGPathCloseExample:zt,SVGPathLineExample:Ut,SVGPathBezierQuadraticExample:Rt,SVGPathBezierCubicExample:Wt,SVGPathArcExample:Yt,SVGRectangleExample:Ht,SVGViewPortExample:Xt};export{Fn as default};
